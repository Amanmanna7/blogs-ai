(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,20500,e=>{"use strict";e.s(["default",()=>l]);var s=e.i(43476),t=e.i(62097);function l(e){let{title:l,tags:a,categories:n,sequences:r}=e,i=r.filter(e=>e.blogContentId||e.blogMediaId).sort((e,s)=>e.sequence-s.sequence);return(0,s.jsx)("div",{className:"p-1 lg:p-6",children:(0,s.jsxs)("div",{className:"prose max-w-none",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:l||"Untitled Blog"}),(0,s.jsx)("br",{}),i.length>0?i.map((e,l)=>{var a;return(0,s.jsxs)("div",{children:[e.blogContentId&&(0,s.jsx)("div",{children:(0,s.jsx)(t.default,{content:(null==(a=e.blogContent)?void 0:a.textContent)||""})}),e.blogMediaId&&e.blogMedia&&(0,s.jsx)("div",{children:(()=>{let t=e.blogMedia;if(!t)return null;switch(t.mediaType){case"IMAGE":return(0,s.jsxs)("div",{className:"my-4",children:[(0,s.jsx)("img",{src:t.mediaUrl,alt:t.name,className:"max-w-full h-auto rounded-lg shadow-md"}),t.description&&(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-2 italic text-center",children:t.description})]});case"VIDEO":return(0,s.jsxs)("div",{className:"my-4",children:[(0,s.jsx)("video",{src:t.mediaUrl,controls:!0,className:"max-w-full h-auto rounded-lg shadow-md",children:"Your browser does not support the video tag."}),t.description&&(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-2 italic text-center",children:t.description})]});case"AUDIO":return(0,s.jsxs)("div",{className:"my-4",children:[(0,s.jsx)("audio",{src:t.mediaUrl,controls:!0,className:"w-full",children:"Your browser does not support the audio tag."}),t.description&&(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-2 italic text-center",children:t.description})]});default:return(0,s.jsxs)("div",{className:"my-4 p-4 bg-gray-100 rounded-lg",children:[(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,s.jsx)("strong",{children:t.name})," (",t.mediaType,")"]}),t.description&&(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-2 italic text-center",children:t.description}),(0,s.jsx)("a",{href:t.mediaUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-sm",children:"View/Download"})]})}})()})]},e.id)}):(0,s.jsx)("div",{className:"text-gray-500 italic",children:"No content or media added yet. Add some content or media to see the preview."}),(a.length>0||n.length>0)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("hr",{className:"my-8 border-gray-300"}),(0,s.jsxs)("div",{className:"space-y-4",children:[a.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Tags"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:a.map((e,t)=>(0,s.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:e},t))})]}),n.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Categories"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:n.map(e=>(0,s.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:e.name},e.id))})]})]})]})]})})}},5902,e=>{"use strict";e.s(["default",()=>r]);var s=e.i(43476),t=e.i(71645),l=e.i(22016),a=e.i(68513),n=e.i(20500);function r(e){var r;let{params:i}=e,[d,c]=(0,t.useState)(null),[o,x]=(0,t.useState)(!0),[m,h]=(0,t.useState)(""),{isAdmin:g,isEditor:u,isAuthor:f}=(0,a.useRole)();(0,t.useEffect)(()=>{(async()=>{try{let e=await i,s=await fetch("/api/blogs/".concat(e.id));if(!s.ok)return void(404===s.status?h("Blog not found"):h("Failed to load blog"));let t=await s.json();c(t.blog)}catch(e){console.error("Error fetching blog:",e),h("Failed to load blog")}finally{x(!1)}})()},[i]);let j=e=>{switch(e){case"PUBLISHED":return"bg-green-100 text-green-800";case"DRAFT":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},p=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return g||u||f?o?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,s.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading blog..."})]})}):m?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Error"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:m}),(0,s.jsx)(l.default,{href:"/admin/blogs",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Back to Blogs"})]})}):d?(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)("div",{className:"bg-white shadow",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)(l.default,{href:"/admin/blogs",className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700",children:(0,s.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:d.title}),(0,s.jsxs)("div",{className:"mt-2 flex items-center space-x-4",children:[(0,s.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(j(d.status)),children:d.status}),(0,s.jsxs)("span",{className:"text-sm text-gray-500",children:["Slug: ",d.slug]})]})]})]}),(0,s.jsx)("div",{className:"flex items-center space-x-3",children:(0,s.jsxs)(l.default,{href:"/admin/blogs/".concat(d.id,"/edit"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,s.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit Blog"]})})]})})}),(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,s.jsx)("div",{className:"lg:col-span-2",children:(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:(0,s.jsx)(n.default,{title:d.title,tags:d.tags,categories:d.categories.map(e=>e.category),sequences:d.sequences})})}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Blog Information"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Status"}),(0,s.jsx)("div",{className:"mt-1",children:(0,s.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(j(d.status)),children:d.status})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Slug"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-900 font-mono",children:d.slug})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Created"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:p(d.createdAt)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Last Updated"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:p(d.updatedAt)})]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Author"}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[d.author.imageUrl?(0,s.jsx)("img",{className:"h-10 w-10 rounded-full",src:d.author.imageUrl,alt:d.author.name||"Author"}):(0,s.jsx)("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700",children:(null==(r=d.author.name)?void 0:r.charAt(0))||d.author.email.charAt(0).toUpperCase()})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900",children:d.author.name||"Anonymous"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:d.author.email})]})]})]}),d.tags.length>0&&(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Tags"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:d.tags.map((e,t)=>(0,s.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:e},t))})]}),d.categories.length>0&&(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Categories"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:d.categories.map(e=>(0,s.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:e.category.name},e.category.id))})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Content Summary"}),(0,s.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Total Sequences:"}),(0,s.jsx)("span",{className:"font-medium",children:d.sequences.length})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Content Items:"}),(0,s.jsx)("span",{className:"font-medium",children:d.sequences.filter(e=>null!==e.blogContentId).length})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Media Items:"}),(0,s.jsx)("span",{className:"font-medium",children:d.sequences.filter(e=>null!==e.blogMediaId).length})]})]})]})]})]})})]}):(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Blog Not Found"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:"The blog you're looking for doesn't exist."}),(0,s.jsx)(l.default,{href:"/admin/blogs",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Back to Blogs"})]})}):(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:"You don't have permission to view blogs."}),(0,s.jsx)(l.default,{href:"/",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Go Home"})]})})}}]);