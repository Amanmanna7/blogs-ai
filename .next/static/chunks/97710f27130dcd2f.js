(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7702,e=>{"use strict";e.s(["default",()=>a]);var t=e.i(43476),s=e.i(71645),r=e.i(22016),l=e.i(68513);function a(){let[e,a]=(0,s.useState)([]),[n,i]=(0,s.useState)(!0),[o,c]=(0,s.useState)(""),{isAdmin:d,isEditor:x,isAuthor:m}=(0,l.useRole)();(0,s.useEffect)(()=>{h()},[]);let h=async()=>{try{let e=await fetch("/api/blogs");if(!e.ok)throw Error("Failed to fetch blogs");let t=await e.json();a(t.blogs)}catch(e){console.error("Error fetching blogs:",e),c("Failed to load blogs")}finally{i(!1)}},u=async(t,s)=>{if(confirm('Are you sure you want to delete the blog "'.concat(s,'"?')))try{let s=await fetch("/api/blogs/".concat(t),{method:"DELETE"});if(!s.ok){let e=await s.json();throw Error(e.error||"Failed to delete blog")}a(e.filter(e=>e.id!==t))}catch(e){console.error("Error deleting blog:",e),alert(e instanceof Error?e.message:"Failed to delete blog")}};return d||x||m?n?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading blogs..."})]})}):(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("div",{className:"bg-white shadow",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Blogs"}),(0,t.jsx)("p",{className:"mt-2 text-gray-600",children:"Manage your blog posts"})]}),(0,t.jsxs)(r.default,{href:"/admin/blogs/create",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,t.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Create Blog"]})]})})}),(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o&&(0,t.jsx)("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:o}),0===e.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,t.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No blogs"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating a new blog."}),(0,t.jsx)("div",{className:"mt-6",children:(0,t.jsxs)(r.default,{href:"/admin/blogs/create",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,t.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Create Blog"]})})]}):(0,t.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:(0,t.jsx)("ul",{className:"divide-y divide-gray-200",children:e.map(e=>(0,t.jsx)("li",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 truncate",children:e.title}),(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat((e=>{switch(e){case"PUBLISHED":return"bg-green-100 text-green-800";case"DRAFT":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}})(e.status)),children:e.status})]}),(0,t.jsxs)("div",{className:"mt-1 flex items-center space-x-4 text-sm text-gray-500",children:[(0,t.jsx)("span",{className:"font-mono",children:e.slug}),(0,t.jsx)("span",{children:"•"}),(0,t.jsxs)("span",{children:["By ",e.author.name||e.author.email]}),(0,t.jsx)("span",{children:"•"}),(0,t.jsx)("span",{children:new Date(e.createdAt).toLocaleDateString()})]}),(0,t.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:e.tags.map((e,s)=>(0,t.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:e},s))}),(0,t.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:e.categories.map(e=>(0,t.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-green-100 text-green-800",children:e.category.name},e.category.id))})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(r.default,{href:"/admin/blogs/".concat(e.id),className:"text-blue-600 hover:text-blue-900 text-sm font-medium",children:"View"}),(0,t.jsx)(r.default,{href:"/admin/blogs/".concat(e.id,"/edit"),className:"text-indigo-600 hover:text-indigo-900 text-sm font-medium",children:"Edit"}),(0,t.jsx)("button",{onClick:()=>u(e.id,e.title),className:"text-red-600 hover:text-red-900 text-sm font-medium",children:"Delete"})]})]})},e.id))})})]})]}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"You don't have permission to access this page."}),(0,t.jsx)(r.default,{href:"/",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Go Home"})]})})}}]);