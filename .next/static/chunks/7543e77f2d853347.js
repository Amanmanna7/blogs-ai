(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,12007,e=>{"use strict";e.s(["default",()=>r]);var t=e.i(43476),a=e.i(71645),s=e.i(18566);function r(e){let{initialData:r,isEditing:i=!1}=e,[o,n]=(0,a.useState)((null==r?void 0:r.name)||""),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(""),m=(0,s.useRouter)(),x=async e=>{e.preventDefault(),c(!0),u("");try{let e=i?"/api/categories/".concat(null==r?void 0:r.id):"/api/categories",t=await fetch(e,{method:i?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:o})});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to save category")}await t.json(),m.push("/admin/categories")}catch(e){console.error("Error saving category:",e),u(e instanceof Error?e.message:"Failed to save category")}finally{c(!1)}};return(0,t.jsxs)("div",{className:"max-w-md mx-auto bg-white rounded-lg shadow-md p-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:i?"Edit Category":"Create New Category"}),(0,t.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Name"}),(0,t.jsx)("input",{type:"text",id:"name",value:o,onChange:e=>n(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter category name",required:!0,disabled:l})]}),d&&(0,t.jsx)("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded-md",children:d}),(0,t.jsxs)("div",{className:"flex space-x-3",children:[(0,t.jsx)("button",{type:"submit",disabled:l||!o.trim(),className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l?"Saving...":i?"Update Category":"Create Category"}),(0,t.jsx)("button",{type:"button",onClick:()=>m.push("/admin/categories"),className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors",disabled:l,children:"Cancel"})]})]})]})}},87661,e=>{"use strict";e.s(["default",()=>i]);var t=e.i(43476),a=e.i(71645),s=e.i(68513),r=e.i(12007);function i(e){let{params:i}=e,[o,n]=(0,a.useState)(null),[l,c]=(0,a.useState)(!0),[d,u]=(0,a.useState)(""),{isAdmin:m,isEditor:x,isAuthor:g}=(0,s.useRole)();return((0,a.useEffect)(()=>{(async()=>{try{let e=await i,t=await fetch("/api/categories/".concat(e.id));if(!t.ok)return void(404===t.status?u("Category not found"):u("Failed to load category"));let a=await t.json();n(a.category)}catch(e){console.error("Error fetching category:",e),u("Failed to load category")}finally{c(!1)}})()},[i]),m||x||g)?l?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading category..."})]})}):d?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Error"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:d})]})}):o?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsx)(r.default,{initialData:o,isEditing:!0})})}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Category Not Found"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"The category you're looking for doesn't exist."})]})}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"You don't have permission to edit categories."})]})})}}]);