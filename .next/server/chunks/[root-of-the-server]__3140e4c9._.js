module.exports=[24361,(e,o,r)=>{o.exports=e.x("util",()=>require("util"))},14747,(e,o,r)=>{o.exports=e.x("path",()=>require("path"))},22734,(e,o,r)=>{o.exports=e.x("fs",()=>require("fs"))},88947,(e,o,r)=>{o.exports=e.x("stream",()=>require("stream"))},27699,(e,o,r)=>{o.exports=e.x("events",()=>require("events"))},49719,(e,o,r)=>{o.exports=e.x("assert",()=>require("assert"))},92509,(e,o,r)=>{o.exports=e.x("url",()=>require("url"))},70722,(e,o,r)=>{o.exports=e.x("tty",()=>require("tty"))},46786,(e,o,r)=>{o.exports=e.x("os",()=>require("os"))},54799,(e,o,r)=>{o.exports=e.x("crypto",()=>require("crypto"))},4446,(e,o,r)=>{o.exports=e.x("net",()=>require("net"))},55004,(e,o,r)=>{o.exports=e.x("tls",()=>require("tls"))},874,(e,o,r)=>{o.exports=e.x("buffer",()=>require("buffer"))},33405,(e,o,r)=>{o.exports=e.x("child_process",()=>require("child_process"))},37702,(e,o,r)=>{o.exports=e.x("worker_threads",()=>require("worker_threads"))},62562,(e,o,r)=>{o.exports=e.x("module",()=>require("module"))},16032,e=>{"use strict";e.s(["closeWorkers",()=>p,"getCommunicationsWorker",()=>m,"getDefaultWorker",()=>d,"initializeWorkers",()=>x],16032),e.i(69833);var o=e.i(82286),r=e.i(69582),t=e.i(88517);async function i(e){let{type:o,...r}=e.data;if(console.log(`Processing default job: ${o}`,{jobId:e.id,data:r}),"example-job"===o)return await s(r);throw Error(`Unknown job type: ${o}`)}async function s(e){return console.log("Processing example job with data:",e),{success:!0}}async function n(e){let{type:o,...r}=e.data;switch(console.log(`Processing communications job: ${o}`,{jobId:e.id,data:r}),o){case"send-email":return await a(r);case"send-notification":return await l(r);default:throw Error(`Unknown communications job type: ${o}`)}}async function a(e){return console.log("Sending email with data:",e),{success:!0,message:"Email sent"}}async function l(e){return console.log("Sending notification with data:",e),{success:!0,message:"Notification sent"}}let c=null,u=null,d=()=>(c||((c=new o.Worker(t.QUEUE_NAMES.DEFAULT,async e=>await i(e),{connection:(0,r.getRedis)(),concurrency:5})).on("failed",(e,o)=>{console.error(`Default queue job ${e?.id} failed:`,o)}),c.on("completed",e=>{console.log(`Default queue job ${e.id} completed`)})),c),m=()=>(u||((u=new o.Worker(t.QUEUE_NAMES.COMMUNICATIONS,async e=>await n(e),{connection:(0,r.getRedis)(),concurrency:3})).on("failed",(e,o)=>{console.error(`Communications queue job ${e?.id} failed:`,o)}),u.on("completed",e=>{console.log(`Communications queue job ${e.id} completed`)})),u),x=()=>{d(),m(),console.log("All workers initialized")},p=async()=>{c&&(await c.close(),c=null),u&&(await u.close(),u=null)}},2662,e=>{"use strict";e.s(["cleanupQueueSystem",()=>s,"initializeQueueSystem",()=>i],2662);var o=e.i(16032);async function r(){console.log("Initializing cron jobs..."),console.log("Cron jobs initialized")}e.i(88517);let t=!1;async function i(){if(t)return void console.log("Queue system already initialized");try{(0,o.initializeWorkers)(),await r(),t=!0,console.log("Queue system initialized successfully")}catch(e){throw console.error("Error initializing queue system:",e),e}}async function s(){let{closeWorkers:o}=await e.A(21509),{closeQueues:r}=await e.A(78807),{closeRedis:i}=await e.A(19812);await o(),await r(),await i(),t=!1,console.log("Queue system cleaned up")}},21509,e=>{e.v(e=>Promise.resolve().then(()=>e(16032)))},78807,e=>{e.v(e=>Promise.resolve().then(()=>e(88517)))},19812,e=>{e.v(e=>Promise.resolve().then(()=>e(69582)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__3140e4c9._.js.map