{"version":3,"sources":["turbopack:///[project]/node_modules/highlight.js/es/languages/csharp.js","turbopack:///[project]/src/components/ChapterTopicForm.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/chevron-down.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/grip-vertical.ts"],"sourcesContent":["/*\nLanguage: C#\nAuthor: Jason Diamond <jason@diamond.name>\nContributor: Nicolas LLOBERA <nllobera@gmail.com>, Pieter Vantorre <pietervantorre@gmail.com>, David Pine <david.pine@microsoft.com>\nWebsite: https://docs.microsoft.com/dotnet/csharp/\nCategory: common\n*/\n\n/** @type LanguageFn */\nfunction csharp(hljs) {\n  const BUILT_IN_KEYWORDS = [\n    'bool',\n    'byte',\n    'char',\n    'decimal',\n    'delegate',\n    'double',\n    'dynamic',\n    'enum',\n    'float',\n    'int',\n    'long',\n    'nint',\n    'nuint',\n    'object',\n    'sbyte',\n    'short',\n    'string',\n    'ulong',\n    'uint',\n    'ushort'\n  ];\n  const FUNCTION_MODIFIERS = [\n    'public',\n    'private',\n    'protected',\n    'static',\n    'internal',\n    'protected',\n    'abstract',\n    'async',\n    'extern',\n    'override',\n    'unsafe',\n    'virtual',\n    'new',\n    'sealed',\n    'partial'\n  ];\n  const LITERAL_KEYWORDS = [\n    'default',\n    'false',\n    'null',\n    'true'\n  ];\n  const NORMAL_KEYWORDS = [\n    'abstract',\n    'as',\n    'base',\n    'break',\n    'case',\n    'catch',\n    'class',\n    'const',\n    'continue',\n    'do',\n    'else',\n    'event',\n    'explicit',\n    'extern',\n    'finally',\n    'fixed',\n    'for',\n    'foreach',\n    'goto',\n    'if',\n    'implicit',\n    'in',\n    'interface',\n    'internal',\n    'is',\n    'lock',\n    'namespace',\n    'new',\n    'operator',\n    'out',\n    'override',\n    'params',\n    'private',\n    'protected',\n    'public',\n    'readonly',\n    'record',\n    'ref',\n    'return',\n    'scoped',\n    'sealed',\n    'sizeof',\n    'stackalloc',\n    'static',\n    'struct',\n    'switch',\n    'this',\n    'throw',\n    'try',\n    'typeof',\n    'unchecked',\n    'unsafe',\n    'using',\n    'virtual',\n    'void',\n    'volatile',\n    'while'\n  ];\n  const CONTEXTUAL_KEYWORDS = [\n    'add',\n    'alias',\n    'and',\n    'ascending',\n    'args',\n    'async',\n    'await',\n    'by',\n    'descending',\n    'dynamic',\n    'equals',\n    'file',\n    'from',\n    'get',\n    'global',\n    'group',\n    'init',\n    'into',\n    'join',\n    'let',\n    'nameof',\n    'not',\n    'notnull',\n    'on',\n    'or',\n    'orderby',\n    'partial',\n    'record',\n    'remove',\n    'required',\n    'scoped',\n    'select',\n    'set',\n    'unmanaged',\n    'value|0',\n    'var',\n    'when',\n    'where',\n    'with',\n    'yield'\n  ];\n\n  const KEYWORDS = {\n    keyword: NORMAL_KEYWORDS.concat(CONTEXTUAL_KEYWORDS),\n    built_in: BUILT_IN_KEYWORDS,\n    literal: LITERAL_KEYWORDS\n  };\n  const TITLE_MODE = hljs.inherit(hljs.TITLE_MODE, { begin: '[a-zA-Z](\\\\.?\\\\w)*' });\n  const NUMBERS = {\n    className: 'number',\n    variants: [\n      { begin: '\\\\b(0b[01\\']+)' },\n      { begin: '(-?)\\\\b([\\\\d\\']+(\\\\.[\\\\d\\']*)?|\\\\.[\\\\d\\']+)(u|U|l|L|ul|UL|f|F|b|B)' },\n      { begin: '(-?)(\\\\b0[xX][a-fA-F0-9\\']+|(\\\\b[\\\\d\\']+(\\\\.[\\\\d\\']*)?|\\\\.[\\\\d\\']+)([eE][-+]?[\\\\d\\']+)?)' }\n    ],\n    relevance: 0\n  };\n  const RAW_STRING = {\n    className: 'string',\n    begin: /\"\"\"(\"*)(?!\")(.|\\n)*?\"\"\"\\1/,\n    relevance: 1\n  };\n  const VERBATIM_STRING = {\n    className: 'string',\n    begin: '@\"',\n    end: '\"',\n    contains: [ { begin: '\"\"' } ]\n  };\n  const VERBATIM_STRING_NO_LF = hljs.inherit(VERBATIM_STRING, { illegal: /\\n/ });\n  const SUBST = {\n    className: 'subst',\n    begin: /\\{/,\n    end: /\\}/,\n    keywords: KEYWORDS\n  };\n  const SUBST_NO_LF = hljs.inherit(SUBST, { illegal: /\\n/ });\n  const INTERPOLATED_STRING = {\n    className: 'string',\n    begin: /\\$\"/,\n    end: '\"',\n    illegal: /\\n/,\n    contains: [\n      { begin: /\\{\\{/ },\n      { begin: /\\}\\}/ },\n      hljs.BACKSLASH_ESCAPE,\n      SUBST_NO_LF\n    ]\n  };\n  const INTERPOLATED_VERBATIM_STRING = {\n    className: 'string',\n    begin: /\\$@\"/,\n    end: '\"',\n    contains: [\n      { begin: /\\{\\{/ },\n      { begin: /\\}\\}/ },\n      { begin: '\"\"' },\n      SUBST\n    ]\n  };\n  const INTERPOLATED_VERBATIM_STRING_NO_LF = hljs.inherit(INTERPOLATED_VERBATIM_STRING, {\n    illegal: /\\n/,\n    contains: [\n      { begin: /\\{\\{/ },\n      { begin: /\\}\\}/ },\n      { begin: '\"\"' },\n      SUBST_NO_LF\n    ]\n  });\n  SUBST.contains = [\n    INTERPOLATED_VERBATIM_STRING,\n    INTERPOLATED_STRING,\n    VERBATIM_STRING,\n    hljs.APOS_STRING_MODE,\n    hljs.QUOTE_STRING_MODE,\n    NUMBERS,\n    hljs.C_BLOCK_COMMENT_MODE\n  ];\n  SUBST_NO_LF.contains = [\n    INTERPOLATED_VERBATIM_STRING_NO_LF,\n    INTERPOLATED_STRING,\n    VERBATIM_STRING_NO_LF,\n    hljs.APOS_STRING_MODE,\n    hljs.QUOTE_STRING_MODE,\n    NUMBERS,\n    hljs.inherit(hljs.C_BLOCK_COMMENT_MODE, { illegal: /\\n/ })\n  ];\n  const STRING = { variants: [\n    RAW_STRING,\n    INTERPOLATED_VERBATIM_STRING,\n    INTERPOLATED_STRING,\n    VERBATIM_STRING,\n    hljs.APOS_STRING_MODE,\n    hljs.QUOTE_STRING_MODE\n  ] };\n\n  const GENERIC_MODIFIER = {\n    begin: \"<\",\n    end: \">\",\n    contains: [\n      { beginKeywords: \"in out\" },\n      TITLE_MODE\n    ]\n  };\n  const TYPE_IDENT_RE = hljs.IDENT_RE + '(<' + hljs.IDENT_RE + '(\\\\s*,\\\\s*' + hljs.IDENT_RE + ')*>)?(\\\\[\\\\])?';\n  const AT_IDENTIFIER = {\n    // prevents expressions like `@class` from incorrect flagging\n    // `class` as a keyword\n    begin: \"@\" + hljs.IDENT_RE,\n    relevance: 0\n  };\n\n  return {\n    name: 'C#',\n    aliases: [\n      'cs',\n      'c#'\n    ],\n    keywords: KEYWORDS,\n    illegal: /::/,\n    contains: [\n      hljs.COMMENT(\n        '///',\n        '$',\n        {\n          returnBegin: true,\n          contains: [\n            {\n              className: 'doctag',\n              variants: [\n                {\n                  begin: '///',\n                  relevance: 0\n                },\n                { begin: '<!--|-->' },\n                {\n                  begin: '</?',\n                  end: '>'\n                }\n              ]\n            }\n          ]\n        }\n      ),\n      hljs.C_LINE_COMMENT_MODE,\n      hljs.C_BLOCK_COMMENT_MODE,\n      {\n        className: 'meta',\n        begin: '#',\n        end: '$',\n        keywords: { keyword: 'if else elif endif define undef warning error line region endregion pragma checksum' }\n      },\n      STRING,\n      NUMBERS,\n      {\n        beginKeywords: 'class interface',\n        relevance: 0,\n        end: /[{;=]/,\n        illegal: /[^\\s:,]/,\n        contains: [\n          { beginKeywords: \"where class\" },\n          TITLE_MODE,\n          GENERIC_MODIFIER,\n          hljs.C_LINE_COMMENT_MODE,\n          hljs.C_BLOCK_COMMENT_MODE\n        ]\n      },\n      {\n        beginKeywords: 'namespace',\n        relevance: 0,\n        end: /[{;=]/,\n        illegal: /[^\\s:]/,\n        contains: [\n          TITLE_MODE,\n          hljs.C_LINE_COMMENT_MODE,\n          hljs.C_BLOCK_COMMENT_MODE\n        ]\n      },\n      {\n        beginKeywords: 'record',\n        relevance: 0,\n        end: /[{;=]/,\n        illegal: /[^\\s:]/,\n        contains: [\n          TITLE_MODE,\n          GENERIC_MODIFIER,\n          hljs.C_LINE_COMMENT_MODE,\n          hljs.C_BLOCK_COMMENT_MODE\n        ]\n      },\n      {\n        // [Attributes(\"\")]\n        className: 'meta',\n        begin: '^\\\\s*\\\\[(?=[\\\\w])',\n        excludeBegin: true,\n        end: '\\\\]',\n        excludeEnd: true,\n        contains: [\n          {\n            className: 'string',\n            begin: /\"/,\n            end: /\"/\n          }\n        ]\n      },\n      {\n        // Expression keywords prevent 'keyword Name(...)' from being\n        // recognized as a function definition\n        beginKeywords: 'new return throw await else',\n        relevance: 0\n      },\n      {\n        className: 'function',\n        begin: '(' + TYPE_IDENT_RE + '\\\\s+)+' + hljs.IDENT_RE + '\\\\s*(<[^=]+>\\\\s*)?\\\\(',\n        returnBegin: true,\n        end: /\\s*[{;=]/,\n        excludeEnd: true,\n        keywords: KEYWORDS,\n        contains: [\n          // prevents these from being highlighted `title`\n          {\n            beginKeywords: FUNCTION_MODIFIERS.join(\" \"),\n            relevance: 0\n          },\n          {\n            begin: hljs.IDENT_RE + '\\\\s*(<[^=]+>\\\\s*)?\\\\(',\n            returnBegin: true,\n            contains: [\n              hljs.TITLE_MODE,\n              GENERIC_MODIFIER\n            ],\n            relevance: 0\n          },\n          { match: /\\(\\)/ },\n          {\n            className: 'params',\n            begin: /\\(/,\n            end: /\\)/,\n            excludeBegin: true,\n            excludeEnd: true,\n            keywords: KEYWORDS,\n            relevance: 0,\n            contains: [\n              STRING,\n              NUMBERS,\n              hljs.C_BLOCK_COMMENT_MODE\n            ]\n          },\n          hljs.C_LINE_COMMENT_MODE,\n          hljs.C_BLOCK_COMMENT_MODE\n        ]\n      },\n      AT_IDENTIFIER\n    ]\n  };\n}\n\nexport { csharp as default };\n","'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { use } from 'react';\nimport { Course, Blog } from '@prisma/client';\nimport { Plus, X, GripVertical, Eye, EyeOff, ChevronDown, ChevronRight } from 'lucide-react';\nimport SearchableSelect from './SearchableSelect';\nimport { useEditor, EditorContent, useEditorState } from '@tiptap/react';\nimport StarterKit from '@tiptap/starter-kit';\nimport { TextStyle } from '@tiptap/extension-text-style';\nimport { Color } from '@tiptap/extension-color';\nimport { TextAlign } from '@tiptap/extension-text-align';\nimport { Link } from '@tiptap/extension-link';\nimport { Image } from '@tiptap/extension-image';\nimport { CodeBlockLowlight } from '@tiptap/extension-code-block-lowlight';\nimport { Table } from '@tiptap/extension-table';\nimport { TableRow } from '@tiptap/extension-table-row';\nimport { TableCell } from '@tiptap/extension-table-cell';\nimport { TableHeader } from '@tiptap/extension-table-header';\nimport { HorizontalRule } from '@tiptap/extension-horizontal-rule';\nimport { Subscript } from '@tiptap/extension-subscript';\nimport { Superscript } from '@tiptap/extension-superscript';\nimport { Underline } from '@tiptap/extension-underline';\nimport { FontFamily } from '@tiptap/extension-font-family';\nimport { Emoji } from '@tiptap/extension-emoji';\nimport { createLowlight } from 'lowlight';\nimport EmojiPicker from 'emoji-picker-react';\nimport '@/styles/tiptap.css';\n\n// Import common programming languages for syntax highlighting\nimport javascript from 'highlight.js/lib/languages/javascript';\nimport typescript from 'highlight.js/lib/languages/typescript';\nimport python from 'highlight.js/lib/languages/python';\nimport java from 'highlight.js/lib/languages/java';\nimport cpp from 'highlight.js/lib/languages/cpp';\nimport csharp from 'highlight.js/lib/languages/csharp';\nimport php from 'highlight.js/lib/languages/php';\nimport ruby from 'highlight.js/lib/languages/ruby';\nimport go from 'highlight.js/lib/languages/go';\nimport rust from 'highlight.js/lib/languages/rust';\nimport swift from 'highlight.js/lib/languages/swift';\nimport kotlin from 'highlight.js/lib/languages/kotlin';\nimport sql from 'highlight.js/lib/languages/sql';\nimport html from 'highlight.js/lib/languages/xml';\nimport css from 'highlight.js/lib/languages/css';\nimport json from 'highlight.js/lib/languages/json';\nimport yaml from 'highlight.js/lib/languages/yaml';\nimport bash from 'highlight.js/lib/languages/bash';\nimport markdown from 'highlight.js/lib/languages/markdown';\n\n// Create lowlight instance with all languages\nconst lowlight = createLowlight();\nlowlight.register('javascript', javascript);\nlowlight.register('typescript', typescript);\nlowlight.register('python', python);\nlowlight.register('java', java);\nlowlight.register('cpp', cpp);\nlowlight.register('csharp', csharp);\nlowlight.register('php', php);\nlowlight.register('ruby', ruby);\nlowlight.register('go', go);\nlowlight.register('rust', rust);\nlowlight.register('swift', swift);\nlowlight.register('kotlin', kotlin);\nlowlight.register('sql', sql);\nlowlight.register('html', html);\nlowlight.register('css', css);\nlowlight.register('json', json);\nlowlight.register('yaml', yaml);\nlowlight.register('bash', bash);\nlowlight.register('markdown', markdown);\n\ninterface ChapterTopicFormProps {\n  initialData?: {\n    id: string;\n    courseId: string;\n    sequenceNumber: number;\n    name: string;\n    description: string;\n    blogRelations: Array<{\n      id: string;\n      blogId: string;\n      sequence: number;\n      blog: Blog;\n    }>;\n  };\n  isEditing?: boolean;\n  courseId?: string;\n}\n\ninterface CourseWithChapters extends Course {\n  chapterTopics: Array<{\n    id: string;\n    name: string;\n    description: string;\n    sequenceNumber: number;\n    blogRelations?: Array<{\n      id: string;\n      blogId: string;\n      sequence: number;\n      blog: Blog;\n    }>;\n  }>;\n}\n\ninterface BlogSequence {\n  id: string;\n  sequence: number;\n  blogId: string;\n  blog: Blog;\n}\n\nexport default function ChapterTopicForm({ \n  initialData, \n  isEditing = false, \n  courseId \n}: ChapterTopicFormProps) {\n  const [formData, setFormData] = useState({\n    courseId: initialData?.courseId || courseId || '',\n    sequenceNumber: initialData?.sequenceNumber || 1,\n    name: initialData?.name || '',\n    description: initialData?.description || '',\n  });\n\n  // TipTap editor for description\n  const descriptionEditor = useEditor({\n    extensions: [\n      StarterKit,\n      TextStyle.extend({\n        addAttributes() {\n          return {\n            ...this.parent?.(),\n            fontSize: {\n              default: null,\n              parseHTML: element => element.style.fontSize,\n              renderHTML: attributes => {\n                if (!attributes.fontSize) {\n                  return {};\n                }\n                return {\n                  style: `font-size: ${attributes.fontSize}`,\n                };\n              },\n            },\n            fontFamily: {\n              default: null,\n              parseHTML: element => element.style.fontFamily,\n              renderHTML: attributes => {\n                if (!attributes.fontFamily) {\n                  return {};\n                }\n                return {\n                  style: `font-family: ${attributes.fontFamily}`,\n                };\n              },\n            },\n          };\n        },\n      }),\n      Color,\n      TextAlign.configure({\n        types: ['heading', 'paragraph'],\n      }),\n      Link.configure({\n        openOnClick: false,\n        HTMLAttributes: {\n          class: 'text-blue-600 underline cursor-pointer',\n        },\n      }),\n      Image.configure({\n        HTMLAttributes: {\n          class: 'max-w-full h-auto rounded-lg',\n        },\n      }),\n      CodeBlockLowlight.configure({\n        lowlight,\n        HTMLAttributes: {\n          class: 'bg-gray-900 text-gray-100 rounded-lg p-4 my-4 overflow-x-auto font-mono text-sm',\n        },\n      }),\n      Table.configure({\n        resizable: true,\n        HTMLAttributes: {\n          class: 'table-auto border-collapse',\n        },\n      }),\n      TableRow,\n      TableHeader,\n      TableCell,\n      HorizontalRule,\n      Subscript,\n      Superscript,\n      Underline,\n      FontFamily.configure({\n        types: ['textStyle'],\n      }),\n      Emoji.configure({\n        enableEmoticons: true,\n        suggestion: {\n          items: ({ query }) => {\n            return [\n              'ðŸ˜€', 'ðŸ˜ƒ', 'ðŸ˜„', 'ðŸ˜', 'ðŸ˜†', 'ðŸ˜…', 'ðŸ¤£', 'ðŸ˜‚', 'ðŸ™‚', 'ðŸ™ƒ',\n              'ðŸ˜‰', 'ðŸ˜Š', 'ðŸ˜‡', 'ðŸ¥°', 'ðŸ˜', 'ðŸ¤©', 'ðŸ˜˜', 'ðŸ˜—', 'ðŸ˜š', 'ðŸ˜™',\n              'ðŸ˜‹', 'ðŸ˜›', 'ðŸ˜œ', 'ðŸ¤ª', 'ðŸ˜', 'ðŸ¤‘', 'ðŸ¤—', 'ðŸ¤­', 'ðŸ¤«', 'ðŸ¤”',\n              'ðŸ¤', 'ðŸ¤¨', 'ðŸ˜', 'ðŸ˜‘', 'ðŸ˜¶', 'ðŸ˜', 'ðŸ˜’', 'ðŸ™„', 'ðŸ˜¬', 'ðŸ¤¥',\n              'ðŸ˜Œ', 'ðŸ˜”', 'ðŸ˜ª', 'ðŸ¤¤', 'ðŸ˜´', 'ðŸ˜·', 'ðŸ¤’', 'ðŸ¤•', 'ðŸ¤¢', 'ðŸ¤®',\n              'ðŸ¤§', 'ðŸ¥µ', 'ðŸ¥¶', 'ðŸ¥´', 'ðŸ˜µ', 'ðŸ¤¯', 'ðŸ¤ ', 'ðŸ¥³', 'ðŸ˜Ž', 'ðŸ¤“',\n              'ðŸ§', 'ðŸ˜•', 'ðŸ˜Ÿ', 'ðŸ™', 'â˜¹ï¸', 'ðŸ˜®', 'ðŸ˜¯', 'ðŸ˜²', 'ðŸ˜³', 'ðŸ¥º',\n              'ðŸ˜¦', 'ðŸ˜§', 'ðŸ˜¨', 'ðŸ˜°', 'ðŸ˜¥', 'ðŸ˜¢', 'ðŸ˜­', 'ðŸ˜±', 'ðŸ˜–', 'ðŸ˜£',\n              'ðŸ˜ž', 'ðŸ˜“', 'ðŸ˜©', 'ðŸ˜«', 'ðŸ¥±', 'ðŸ˜¤', 'ðŸ˜¡', 'ðŸ˜ ', 'ðŸ¤¬', 'ðŸ˜ˆ',\n              'ðŸ‘¿', 'ðŸ’€', 'â˜ ï¸', 'ðŸ’©', 'ðŸ¤¡', 'ðŸ‘¹', 'ðŸ‘º', 'ðŸ‘»', 'ðŸ‘½', 'ðŸ‘¾',\n              'ðŸ¤–', 'ðŸ˜º', 'ðŸ˜¸', 'ðŸ˜¹', 'ðŸ˜»', 'ðŸ˜¼', 'ðŸ˜½', 'ðŸ™€', 'ðŸ˜¿', 'ðŸ˜¾'\n            ].filter(item => item.toLowerCase().startsWith(query.toLowerCase())).slice(0, 10);\n          },\n        },\n      }),\n    ],\n    content: formData.description,\n    immediatelyRender: false,\n    onUpdate: ({ editor }) => {\n      const html = editor.getHTML();\n      setFormData(prev => ({\n        ...prev,\n        description: html\n      }));\n    },\n    editorProps: {\n      attributes: {\n        class: 'prose prose-sm max-w-none focus:outline-none min-h-[120px] p-3',\n      },\n    },\n  });\n\n  // Update editor content when formData.description changes\n  useEffect(() => {\n    if (descriptionEditor && formData.description !== descriptionEditor.getHTML()) {\n      descriptionEditor.commands.setContent(formData.description);\n    }\n  }, [formData.description, descriptionEditor]);\n\n  // MenuBar component for TipTap editor\n  function MenuBar({ editor }: { editor: any }) {\n    const [showEmojiPicker, setShowEmojiPicker] = useState(false);\n    \n    const editorState = useEditorState({\n      editor,\n      selector: (ctx: any) => {\n        return {\n          isBold: ctx.editor.isActive('bold') ?? false,\n          canBold: ctx.editor.can().chain().toggleBold().run() ?? false,\n          isItalic: ctx.editor.isActive('italic') ?? false,\n          canItalic: ctx.editor.can().chain().toggleItalic().run() ?? false,\n          isUnderline: ctx.editor.isActive('underline') ?? false,\n          canUnderline: ctx.editor.can().chain().toggleUnderline().run() ?? false,\n          isStrike: ctx.editor.isActive('strike') ?? false,\n          canStrike: ctx.editor.can().chain().toggleStrike().run() ?? false,\n          isCode: ctx.editor.isActive('code') ?? false,\n          canCode: ctx.editor.can().chain().toggleCode().run() ?? false,\n          isParagraph: ctx.editor.isActive('paragraph') ?? false,\n          isHeading1: ctx.editor.isActive('heading', { level: 1 }) ?? false,\n          isHeading2: ctx.editor.isActive('heading', { level: 2 }) ?? false,\n          isHeading3: ctx.editor.isActive('heading', { level: 3 }) ?? false,\n          isBulletList: ctx.editor.isActive('bulletList') ?? false,\n          isOrderedList: ctx.editor.isActive('orderedList') ?? false,\n          isBlockquote: ctx.editor.isActive('blockquote') ?? false,\n          canUndo: ctx.editor.can().chain().undo().run() ?? false,\n          canRedo: ctx.editor.can().chain().redo().run() ?? false,\n          isAlignLeft: ctx.editor.isActive({ textAlign: 'left' }) ?? false,\n          isAlignCenter: ctx.editor.isActive({ textAlign: 'center' }) ?? false,\n          isAlignRight: ctx.editor.isActive({ textAlign: 'right' }) ?? false,\n          currentColor: ctx.editor.getAttributes('textStyle').color || '',\n        }\n      },\n    });\n\n    return (\n      <div className=\"border border-gray-300 border-b-0 rounded-t-lg bg-gray-50 p-2 flex flex-wrap gap-1 relative\">\n        {/* Text formatting */}\n        <button\n          onClick={() => editor.chain().focus().toggleBold().run()}\n          disabled={!editorState.canBold}\n          className={`px-3 py-1 text-sm rounded hover:bg-gray-200 ${\n            editorState.isBold ? 'bg-gray-300' : ''\n          }`}\n          title=\"Bold\"\n        >\n          <strong>B</strong>\n        </button>\n        <button\n          onClick={() => editor.chain().focus().toggleItalic().run()}\n          disabled={!editorState.canItalic}\n          className={`px-3 py-1 text-sm rounded hover:bg-gray-200 ${\n            editorState.isItalic ? 'bg-gray-300' : ''\n          }`}\n          title=\"Italic\"\n        >\n          <em>I</em>\n        </button>\n        <button\n          onClick={() => editor.chain().focus().toggleUnderline().run()}\n          disabled={!editorState.canUnderline}\n          className={`px-3 py-1 text-sm rounded hover:bg-gray-200 ${\n            editorState.isUnderline ? 'bg-gray-300' : ''\n          }`}\n          title=\"Underline\"\n        >\n          <u>U</u>\n        </button>\n        <button\n          onClick={() => editor.chain().focus().toggleStrike().run()}\n          disabled={!editorState.canStrike}\n          className={`px-3 py-1 text-sm rounded hover:bg-gray-200 ${\n            editorState.isStrike ? 'bg-gray-300' : ''\n          }`}\n          title=\"Strikethrough\"\n        >\n          <s>S</s>\n        </button>\n        <button\n          onClick={() => editor.chain().focus().toggleCode().run()}\n          disabled={!editorState.canCode}\n          className={`px-3 py-1 text-sm rounded hover:bg-gray-200 ${\n            editorState.isCode ? 'bg-gray-300' : ''\n          }`}\n          title=\"Inline Code\"\n        >\n          {'</>'}\n        </button>\n        \n        <div className=\"w-px h-6 bg-gray-300 mx-1\"></div>\n        \n        {/* Headings */}\n        <button\n          onClick={() => editor.chain().focus().setParagraph().run()}\n          className={`px-3 py-1 text-sm rounded hover:bg-gray-200 ${\n            editorState.isParagraph ? 'bg-gray-300' : ''\n          }`}\n          title=\"Paragraph\"\n        >\n          P\n        </button>\n        <button\n          onClick={() => editor.chain().focus().toggleHeading({ level: 1 }).run()}\n          className={`px-3 py-1 text-sm rounded hover:bg-gray-200 ${\n            editorState.isHeading1 ? 'bg-gray-300' : ''\n          }`}\n          title=\"Heading 1\"\n        >\n          H1\n        </button>\n        <button\n          onClick={() => editor.chain().focus().toggleHeading({ level: 2 }).run()}\n          className={`px-3 py-1 text-sm rounded hover:bg-gray-200 ${\n            editorState.isHeading2 ? 'bg-gray-300' : ''\n          }`}\n          title=\"Heading 2\"\n        >\n          H2\n        </button>\n        <button\n          onClick={() => editor.chain().focus().toggleHeading({ level: 3 }).run()}\n          className={`px-3 py-1 text-sm rounded hover:bg-gray-200 ${\n            editorState.isHeading3 ? 'bg-gray-300' : ''\n          }`}\n          title=\"Heading 3\"\n        >\n          H3\n        </button>\n        \n        <div className=\"w-px h-6 bg-gray-300 mx-1\"></div>\n        \n        {/* Lists */}\n        <button\n          onClick={() => editor.chain().focus().toggleBulletList().run()}\n          className={`px-3 py-1 text-sm rounded hover:bg-gray-200 ${\n            editorState.isBulletList ? 'bg-gray-300' : ''\n          }`}\n          title=\"Bullet List\"\n        >\n          â€¢\n        </button>\n        <button\n          onClick={() => editor.chain().focus().toggleOrderedList().run()}\n          className={`px-3 py-1 text-sm rounded hover:bg-gray-200 ${\n            editorState.isOrderedList ? 'bg-gray-300' : ''\n          }`}\n          title=\"Numbered List\"\n        >\n          1.\n        </button>\n        <button\n          onClick={() => editor.chain().focus().toggleBlockquote().run()}\n          className={`px-3 py-1 text-sm rounded hover:bg-gray-200 ${\n            editorState.isBlockquote ? 'bg-gray-300' : ''\n          }`}\n          title=\"Quote\"\n        >\n          \"\n        </button>\n        \n        <div className=\"w-px h-6 bg-gray-300 mx-1\"></div>\n        \n        {/* Alignment */}\n        <button\n          onClick={() => editor.chain().focus().setTextAlign('left').run()}\n          className={`px-3 py-1 text-sm rounded hover:bg-gray-200 ${\n            editorState.isAlignLeft ? 'bg-gray-300' : ''\n          }`}\n          title=\"Align Left\"\n        >\n          â¬…\n        </button>\n        <button\n          onClick={() => editor.chain().focus().setTextAlign('center').run()}\n          className={`px-3 py-1 text-sm rounded hover:bg-gray-200 ${\n            editorState.isAlignCenter ? 'bg-gray-300' : ''\n          }`}\n          title=\"Align Center\"\n        >\n          â†”\n        </button>\n        <button\n          onClick={() => editor.chain().focus().setTextAlign('right').run()}\n          className={`px-3 py-1 text-sm rounded hover:bg-gray-200 ${\n            editorState.isAlignRight ? 'bg-gray-300' : ''\n          }`}\n          title=\"Align Right\"\n        >\n          âž¡\n        </button>\n        \n        <div className=\"w-px h-6 bg-gray-300 mx-1\"></div>\n        \n        {/* Undo/Redo */}\n        <button\n          onClick={() => editor.chain().focus().undo().run()}\n          disabled={!editorState.canUndo}\n          className=\"px-3 py-1 text-sm rounded hover:bg-gray-200\"\n          title=\"Undo\"\n        >\n          â†¶\n        </button>\n        <button\n          onClick={() => editor.chain().focus().redo().run()}\n          disabled={!editorState.canRedo}\n          className=\"px-3 py-1 text-sm rounded hover:bg-gray-200\"\n          title=\"Redo\"\n        >\n          â†·\n        </button>\n        \n        {/* Color picker */}\n        <input\n          type=\"color\"\n          onChange={(e) => editor.chain().focus().setColor(e.target.value).run()}\n          value={editorState.currentColor || '#000000'}\n          className=\"w-8 h-8 border border-gray-300 rounded cursor-pointer\"\n          title=\"Text Color\"\n        />\n        \n        {/* Emoji picker */}\n        <button\n          onClick={() => setShowEmojiPicker(!showEmojiPicker)}\n          className=\"px-3 py-1 text-sm rounded hover:bg-gray-200\"\n          title=\"Emoji\"\n        >\n          ðŸ˜€\n        </button>\n        \n        {showEmojiPicker && (\n          <div className=\"absolute top-full left-0 z-50 mt-1\">\n            <EmojiPicker\n              onEmojiClick={(emojiData) => {\n                editor.chain().focus().insertContent(emojiData.emoji).run();\n                setShowEmojiPicker(false);\n              }}\n              width={300}\n              height={400}\n            />\n          </div>\n        )}\n      </div>\n    );\n  }\n  \n  const [blogSequences, setBlogSequences] = useState<BlogSequence[]>(\n    initialData?.blogRelations?.map(rel => ({\n      id: rel.id,\n      sequence: rel.sequence,\n      blogId: rel.blogId,\n      blog: rel.blog\n    })) || []\n  );\n  \n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [error, setError] = useState('');\n  const [courses, setCourses] = useState<CourseWithChapters[]>([]);\n  const [blogs, setBlogs] = useState<Blog[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [draggedIndex, setDraggedIndex] = useState<number | null>(null);\n  const [showPreview] = useState(true);\n  const router = useRouter();\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const fetchData = async () => {\n    try {\n      setLoading(true);\n      const [coursesRes, blogsRes] = await Promise.all([\n        fetch('/api/courses'),\n        fetch('/api/blogs/public')\n      ]);\n\n      if (!coursesRes.ok || !blogsRes.ok) {\n        throw new Error('Failed to fetch data');\n      }\n\n      const [coursesData, blogsData] = await Promise.all([\n        coursesRes.json(),\n        blogsRes.json()\n      ]);\n\n      // Fetch chapter topics for each course\n      const coursesWithChapters = await Promise.all(\n        (coursesData.data || []).map(async (course: Course) => {\n          try {\n            const chaptersRes = await fetch(`/api/admin/chapter-topics/${course.id}`);\n            if (chaptersRes.ok) {\n              const chaptersData = await chaptersRes.json();\n              return {\n                ...course,\n                chapterTopics: chaptersData.data || []\n              };\n            }\n            return {\n              ...course,\n              chapterTopics: []\n            };\n          } catch (error) {\n            console.error(`Error fetching chapters for course ${course.id}:`, error);\n            return {\n              ...course,\n              chapterTopics: []\n            };\n          }\n        })\n      );\n      setCourses(coursesWithChapters);\n      setBlogs(blogsData.data || []);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to fetch data');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsSubmitting(true);\n    setError('');\n\n    // Check for duplicate sequence number\n    if (isSequenceNumberTaken(formData.sequenceNumber)) {\n      setError('This sequence number is already used in this course. Please choose a different number.');\n      setIsSubmitting(false);\n      return;\n    }\n\n    try {\n      const url = isEditing ? `/api/chapter-topics/${initialData?.id}` : '/api/chapter-topics';\n      const method = isEditing ? 'PUT' : 'POST';\n\n      const response = await fetch(url, {\n        method,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          ...formData,\n          blogSequences: blogSequences.map(seq => ({\n            blogId: seq.blogId,\n            sequence: seq.sequence\n          }))\n        }),\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || 'Failed to save chapter topic');\n      }\n\n      const chapterTopic = await response.json();\n      \n      // Redirect to course detail page\n      router.push(`/admin/courses/${formData.courseId}`);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to save chapter topic');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleInputChange = (field: string, value: string | number) => {\n    setFormData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n\n  // Check if sequence number is already used in the same course\n  const isSequenceNumberTaken = (sequenceNumber: number) => {\n    if (!selectedCourse) return false;\n    \n    return selectedCourse.chapterTopics.some(chapter => \n      chapter.sequenceNumber === sequenceNumber && \n      chapter.id !== initialData?.id\n    );\n  };\n\n  const addBlogSequence = () => {\n    const nextSequence = Math.max(...blogSequences.map(s => s.sequence), 0) + 1;\n    const newSequence: BlogSequence = {\n      id: `temp-${Date.now()}`,\n      sequence: nextSequence,\n      blogId: '',\n      blog: {} as Blog\n    };\n    setBlogSequences([...blogSequences, newSequence]);\n  };\n\n  const updateBlogSequence = (id: string, updates: Partial<BlogSequence>) => {\n    setBlogSequences(blogSequences.map(seq => {\n      if (seq.id === id) {\n        const updatedSeq = { ...seq, ...updates };\n        \n        // If blog is selected, populate the blog data\n        if (updates.blogId) {\n          const selectedBlog = blogs.find(b => b.id === updates.blogId);\n          if (selectedBlog) {\n            updatedSeq.blog = selectedBlog;\n          }\n        } else if (updates.blogId === undefined || updates.blogId === '') {\n          // Clear blog selection\n          updatedSeq.blogId = '';\n          updatedSeq.blog = {} as Blog;\n        }\n        \n        return updatedSeq;\n      }\n      return seq;\n    }));\n  };\n\n  const removeBlogSequence = (id: string) => {\n    const newSequences = blogSequences.filter(seq => seq.id !== id);\n    // Reorder sequences\n    const reorderedSequences = newSequences\n      .sort((a, b) => a.sequence - b.sequence)\n      .map((seq, index) => ({ ...seq, sequence: index + 1 }));\n    setBlogSequences(reorderedSequences);\n  };\n\n  const moveBlogSequence = (dragIndex: number, hoverIndex: number) => {\n    if (dragIndex === hoverIndex) return;\n    \n    const draggedSequence = blogSequences[dragIndex];\n    const newSequences = [...blogSequences];\n    newSequences.splice(dragIndex, 1);\n    newSequences.splice(hoverIndex, 0, draggedSequence);\n    \n    // Update sequence numbers\n    const reorderedSequences = newSequences.map((seq, index) => ({\n      ...seq,\n      sequence: index + 1\n    }));\n    \n    setBlogSequences(reorderedSequences);\n  };\n\n  const handleDragStart = (e: React.DragEvent, index: number) => {\n    setDraggedIndex(index);\n    e.dataTransfer.effectAllowed = 'move';\n    e.dataTransfer.setData('text/plain', index.toString());\n  };\n\n  const handleDragOver = (e: React.DragEvent) => {\n    e.preventDefault();\n    e.dataTransfer.dropEffect = 'move';\n  };\n\n  const handleDrop = (e: React.DragEvent, dropIndex: number) => {\n    e.preventDefault();\n    const dragIndex = parseInt(e.dataTransfer.getData('text/plain'));\n    \n    if (dragIndex !== dropIndex) {\n      moveBlogSequence(dragIndex, dropIndex);\n    }\n    \n    setDraggedIndex(null);\n  };\n\n  const handleDragEnd = () => {\n    setDraggedIndex(null);\n  };\n\n  const selectedCourse = courses.find(c => c.id === formData.courseId);\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center h-64\">\n        <div className=\"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-7xl mx-auto p-6\">\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {/* Form Section */}\n        <div className=\"space-y-6\">\n          <div className=\"bg-white rounded-lg shadow-md\">\n            <div className=\"px-6 py-4 border-b border-gray-200\">\n              <h1 className=\"text-2xl font-bold text-gray-900\">\n                {isEditing ? 'Edit Chapter Topic' : 'Create Chapter Topic'}\n              </h1>\n              <p className=\"text-gray-600 mt-1\">\n                {isEditing ? 'Update chapter topic information' : 'Fill in the details to create a new chapter topic'}\n              </p>\n            </div>\n\n            <form onSubmit={handleSubmit} className=\"p-6 space-y-6\">\n              {error && (\n                <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative\" role=\"alert\">\n                  <span className=\"block sm:inline\">{error}</span>\n                </div>\n              )}\n\n              {/* Course Selection */}\n              <div>\n                <label htmlFor=\"courseId\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Course *\n                </label>\n                <select\n                  id=\"courseId\"\n                  value={formData.courseId}\n                  onChange={(e) => handleInputChange('courseId', e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  required\n                  disabled={isSubmitting || !!courseId}\n                >\n                  <option value=\"\">Select a course</option>\n                  {courses.map((course) => (\n                    <option key={course.id} value={course.id}>\n                      {course.name}\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              {/* Sequence Number */}\n              <div>\n                <label htmlFor=\"sequenceNumber\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Sequence Number *\n                </label>\n                <input\n                  type=\"number\"\n                  id=\"sequenceNumber\"\n                  value={formData.sequenceNumber || ''}\n                  onChange={(e) => {\n                    const value = e.target.value;\n                    handleInputChange('sequenceNumber', value === '' ? 1 : parseInt(value, 10));\n                  }}\n                  className={`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:border-blue-500 ${\n                    isSequenceNumberTaken(formData.sequenceNumber) \n                      ? 'border-red-300 focus:ring-red-500' \n                      : 'border-gray-300 focus:ring-blue-500'\n                  }`}\n                  min=\"1\"\n                  required\n                  disabled={isSubmitting}\n                />\n                {isSequenceNumberTaken(formData.sequenceNumber) && (\n                  <p className=\"mt-1 text-sm text-red-600\">\n                    This sequence number is already used in this course. Please choose a different number.\n                  </p>\n                )}\n              </div>\n\n              {/* Chapter Name */}\n              <div>\n                <label htmlFor=\"name\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Chapter Name *\n                </label>\n                <input\n                  type=\"text\"\n                  id=\"name\"\n                  value={formData.name}\n                  onChange={(e) => handleInputChange('name', e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  placeholder=\"Enter chapter name\"\n                  required\n                  disabled={isSubmitting}\n                />\n              </div>\n\n              {/* Description */}\n              <div>\n                <label htmlFor=\"description\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Description *\n                </label>\n                <div className=\"border border-gray-300 rounded-lg shadow-sm focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-blue-500\">\n                  {/* Toolbar */}\n                  {descriptionEditor && <MenuBar editor={descriptionEditor} />}\n                  \n                  {/* Editor */}\n                  <div className=\"border border-gray-300 border-t-0 rounded-b-lg overflow-hidden\">\n                    <EditorContent \n                      editor={descriptionEditor} \n                      className=\"prose prose-sm max-w-none p-3 min-h-[120px] focus:outline-none\"\n                    />\n                  </div>\n                </div>\n              </div>\n\n              {/* Blog Sequences Section */}\n              <div>\n                <div className=\"flex justify-between items-center mb-4\">\n                  <h3 className=\"text-lg font-medium text-gray-900\">Blog Sequences</h3>\n                  <button\n                    type=\"button\"\n                    onClick={addBlogSequence}\n                    className=\"inline-flex items-center px-3 py-1.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm\"\n                    disabled={isSubmitting}\n                  >\n                    <Plus className=\"w-4 h-4 mr-1\" />\n                    Add Blog\n                  </button>\n                </div>\n\n                {blogs.length === 0 && (\n                  <div className=\"bg-yellow-50 border border-yellow-200 rounded-md p-4 mb-4\">\n                    <div className=\"flex\">\n                      <div className=\"flex-shrink-0\">\n                        <svg className=\"h-5 w-5 text-yellow-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                          <path fillRule=\"evenodd\" d=\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n                        </svg>\n                      </div>\n                      <div className=\"ml-3\">\n                        <h3 className=\"text-sm font-medium text-yellow-800\">\n                          No Blogs Available\n                        </h3>\n                        <div className=\"mt-2 text-sm text-yellow-700\">\n                          <p>You need to create some blogs before you can add them to chapter topics.</p>\n                          <p className=\"mt-1\">\n                            <a href=\"/admin/blogs\" className=\"font-medium underline text-yellow-800 hover:text-yellow-900\">\n                              Go to Blogs Management â†’\n                            </a>\n                          </p>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                )}\n\n                <div className=\"space-y-3\">\n                  {blogSequences.map((sequence, index) => (\n                    <div\n                      key={sequence.id}\n                      draggable\n                      onDragStart={(e) => handleDragStart(e, index)}\n                      onDragOver={handleDragOver}\n                      onDrop={(e) => handleDrop(e, index)}\n                      onDragEnd={handleDragEnd}\n                      className={`border border-gray-200 rounded-lg p-4 bg-gray-50 transition-all duration-200 cursor-move ${\n                        draggedIndex === index \n                          ? 'opacity-50 transform rotate-2 scale-105 shadow-lg' \n                          : 'hover:shadow-md'\n                      }`}\n                    >\n                      <div className=\"flex items-center justify-between mb-3\">\n                        <div className=\"flex items-center space-x-3\">\n                          <GripVertical className=\"w-4 h-4 text-gray-400 cursor-move\" />\n                          <div className=\"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center text-xs font-medium text-blue-600\">\n                            {sequence.sequence}\n                          </div>\n                          <span className=\"text-sm font-medium text-gray-700\">\n                            Blog {sequence.sequence}\n                          </span>\n                        </div>\n                        <button\n                          type=\"button\"\n                          onClick={() => removeBlogSequence(sequence.id)}\n                          className=\"text-red-500 hover:text-red-700 text-sm\"\n                          disabled={isSubmitting}\n                        >\n                          <X className=\"w-4 h-4\" />\n                        </button>\n                      </div>\n\n                      <SearchableSelect\n                        options={blogs.map((blog) => ({\n                          value: blog.id,\n                          label: `${blog.title} [${blog.status}]`\n                        }))}\n                        value={sequence.blogId || ''}\n                        onChange={(blogId) => updateBlogSequence(sequence.id, { blogId: blogId || undefined })}\n                        placeholder={blogs.length === 0 ? \"No blogs available\" : \"Select a blog\"}\n                        disabled={isSubmitting}\n                        className=\"w-full\"\n                      />\n\n                      {sequence.blog && sequence.blog.title && (\n                        <div className=\"mt-2 p-2 bg-white rounded border\">\n                          <p className=\"text-sm text-gray-600\">\n                            <strong>Selected:</strong> {sequence.blog.title} \n                            <span className={`ml-2 px-2 py-1 text-xs rounded-full ${\n                              sequence.blog.status === 'PUBLISHED' ? 'bg-green-100 text-green-800' :\n                              sequence.blog.status === 'DRAFT' ? 'bg-yellow-100 text-yellow-800' :\n                              'bg-gray-100 text-gray-800'\n                            }`}>\n                              {sequence.blog.status}\n                            </span>\n                          </p>\n                        </div>\n                      )}\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              {/* Form Actions */}\n              <div className=\"flex justify-between items-center pt-6 border-t border-gray-200\">\n\n                <div className=\"flex space-x-3\">\n                  <button\n                    type=\"button\"\n                    onClick={() => router.back()}\n                    className=\"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors\"\n                    disabled={isSubmitting}\n                  >\n                    Cancel\n                  </button>\n                  <button\n                    type=\"submit\"\n                    disabled={!formData.courseId || !formData.name.trim() || !formData.description.trim() || isSubmitting}\n                    className=\"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors flex items-center space-x-2\"\n                  >\n                    {isSubmitting ? (\n                      <>\n                        <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\" />\n                        {isEditing ? 'Updating...' : 'Creating...'}\n                      </>\n                    ) : (\n                      <>\n                        {isEditing ? 'Update Chapter Topic' : 'Create Chapter Topic'}\n                      </>\n                    )}\n                  </button>\n                </div>\n              </div>\n            </form>\n          </div>\n        </div>\n\n        {/* Preview Section */}\n        <div className=\"bg-white rounded-lg shadow-md\">\n          <div className=\"px-6 py-4 border-b border-gray-200\">\n            <h2 className=\"text-xl font-semibold text-gray-900\">Preview</h2>\n          </div>\n          <div className=\"p-6\">\n            {selectedCourse ? (\n              <div className=\"space-y-4\">\n                {/* Course Name */}\n                <div className=\"bg-blue-50 rounded-lg p-4 mb-4\">\n                  <h1 className=\"text-xl font-bold text-blue-900\">\n                    {selectedCourse.name}\n                  </h1>\n                  <p className=\"text-sm text-blue-700 mt-1\">\n                    {selectedCourse.description}\n                  </p>\n                </div>\n\n                {/* All Chapter Topics */}\n                <div className=\"space-y-3\">\n                  {(() => {\n                    // Create a combined list of existing chapters and the current form data\n                    const allChapters = selectedCourse.chapterTopics.map(chapter => ({\n                      ...chapter,\n                      isFormData: false\n                    }));\n                    \n                    // If editing, replace the existing chapter with form data\n                    if (isEditing && initialData?.id) {\n                      const formChapter = {\n                        id: initialData.id,\n                        courseId: formData.courseId,\n                        sequenceNumber: formData.sequenceNumber,\n                        name: formData.name,\n                        description: formData.description,\n                        blogRelations: blogSequences.map(seq => ({\n                          id: seq.id,\n                          blogId: seq.blogId,\n                          sequence: seq.sequence,\n                          blog: seq.blog\n                        })),\n                        isFormData: true\n                      };\n                      \n                      // Replace the existing chapter with form data\n                      const chapterIndex = allChapters.findIndex(ch => ch.id === initialData.id);\n                      if (chapterIndex !== -1) {\n                        allChapters[chapterIndex] = formChapter;\n                      }\n                    }\n                    \n                    // Sort by sequence number\n                    return allChapters\n                      .sort((a, b) => a.sequenceNumber - b.sequenceNumber)\n                      .map((chapter, index) => {\n                      const isBeingEdited = chapter.isFormData || (isEditing && chapter.id === initialData?.id);\n                      return (\n                        <div key={chapter.id} className={`rounded-lg p-4 ${\n                          isBeingEdited \n                            ? 'bg-blue-50 border-2 border-blue-200' \n                            : 'bg-gray-50'\n                        }`}>\n                          <h2 className={`text-lg font-bold mb-2 ${\n                            isBeingEdited ? 'text-blue-900' : 'text-gray-900'\n                          }`}>\n                            Chapter {chapter.sequenceNumber}: {chapter.name}\n                            {isBeingEdited && (\n                              <span className=\"ml-2 text-sm font-normal text-blue-600\">(Editing)</span>\n                            )}\n                          </h2>\n                          <details className=\"group\" open={isBeingEdited}>\n                            <summary className={`cursor-pointer text-sm flex items-center ${\n                              isBeingEdited \n                                ? 'text-blue-700 hover:text-blue-900' \n                                : 'text-gray-600 hover:text-gray-900'\n                            }`}>\n                              <span className=\"mr-2\">\n                                <ChevronDown className=\"w-4 h-4\" />\n                              </span>\n                              <div \n                                className=\"prose prose-sm max-w-none\"\n                                dangerouslySetInnerHTML={{ \n                                  __html: chapter.description || 'Chapter description will appear here'\n                                }}\n                              />\n                            </summary>\n                            <div className={`mt-2 pl-4 border-l-2 ${\n                              isBeingEdited ? 'border-blue-300' : 'border-gray-300'\n                            }`}>\n                              <div className=\"space-y-2\">\n                                {chapter.blogRelations\n                                  ?.filter(rel => rel.blog && rel.blog.title)\n                                  .sort((a, b) => a.sequence - b.sequence)\n                                  .map((relation) => (\n                                    <div key={relation.id} className={`text-sm flex items-center ${\n                                      isBeingEdited ? 'text-blue-700' : 'text-gray-700'\n                                    }`}>\n                                      <span className={`w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium mr-2 ${\n                                        isBeingEdited \n                                          ? 'bg-blue-100 text-blue-600' \n                                          : 'bg-blue-100 text-blue-600'\n                                      }`}>\n                                        {relation.sequence}\n                                      </span>\n                                      {relation.blog.title}\n                                    </div>\n                                  ))}\n                                {(!chapter.blogRelations || chapter.blogRelations.length === 0) && (\n                                  <p className={`text-sm italic ${\n                                    isBeingEdited ? 'text-blue-500' : 'text-gray-500'\n                                  }`}>\n                                    No blogs added yet\n                                  </p>\n                                )}\n                              </div>\n                            </div>\n                          </details>\n                        </div>\n                      );\n                    });\n                  })()}\n                  \n                  {/* Current Chapter Topic (only show when creating new, not editing) */}\n                  {formData.name && !isEditing && (\n                    <div className=\"bg-green-50 rounded-lg p-4 border-2 border-green-200\">\n                      <h2 className=\"text-lg font-bold text-green-900 mb-2\">\n                        Chapter {formData.sequenceNumber}: {formData.name}\n                      </h2>\n                      <details className=\"group\" open>\n                        <summary className=\"cursor-pointer text-sm text-green-700 hover:text-green-900 flex items-center\">\n                          <span className=\"mr-2\">\n                            <ChevronDown className=\"w-4 h-4\" />\n                          </span>\n                          <div \n                            className=\"prose prose-sm max-w-none\"\n                            dangerouslySetInnerHTML={{ \n                              __html: formData.description || 'Chapter description will appear here' \n                            }}\n                          />\n                        </summary>\n                        <div className=\"mt-2 pl-4 border-l-2 border-green-300\">\n                          <div className=\"space-y-2\">\n                            {blogSequences\n                              .filter(seq => seq.blogId && seq.blog.title)\n                              .sort((a, b) => a.sequence - b.sequence)\n                              .map((sequence) => (\n                                <div key={sequence.id} className=\"text-sm text-green-700 flex items-center\">\n                                  <span className=\"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center text-xs font-medium text-green-600 mr-2\">\n                                    {sequence.sequence}\n                                  </span>\n                                  {sequence.blog.title}\n                                </div>\n                              ))}\n                            {blogSequences.filter(seq => seq.blogId && seq.blog.title).length === 0 && (\n                              <p className=\"text-sm text-green-500 italic\">No blogs added yet</p>\n                            )}\n                          </div>\n                        </div>\n                      </details>\n                    </div>\n                  )}\n                </div>\n              </div>\n            ) : (\n              <div className=\"text-center py-8\">\n                <p className=\"text-gray-500\">Select a course to see preview</p>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'm6 9 6 6 6-6', key: 'qrunsl' }]];\n\n/**\n * @component @name ChevronDown\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtNiA5IDYgNiA2LTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/chevron-down\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronDown = createLucideIcon('chevron-down', __iconNode);\n\nexport default ChevronDown;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '9', cy: '12', r: '1', key: '1vctgf' }],\n  ['circle', { cx: '9', cy: '5', r: '1', key: 'hp0tcf' }],\n  ['circle', { cx: '9', cy: '19', r: '1', key: 'fkjjf6' }],\n  ['circle', { cx: '15', cy: '12', r: '1', key: '1tmaij' }],\n  ['circle', { cx: '15', cy: '5', r: '1', key: '19l28e' }],\n  ['circle', { cx: '15', cy: '19', r: '1', key: 'f4zoj3' }],\n];\n\n/**\n * @component @name GripVertical\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iMTIiIHI9IjEiIC8+CiAgPGNpcmNsZSBjeD0iOSIgY3k9IjUiIHI9IjEiIC8+CiAgPGNpcmNsZSBjeD0iOSIgY3k9IjE5IiByPSIxIiAvPgogIDxjaXJjbGUgY3g9IjE1IiBjeT0iMTIiIHI9IjEiIC8+CiAgPGNpcmNsZSBjeD0iMTUiIGN5PSI1IiByPSIxIiAvPgogIDxjaXJjbGUgY3g9IjE1IiBjeT0iMTkiIHI9IjEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/grip-vertical\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst GripVertical = createLucideIcon('grip-vertical', __iconNode);\n\nexport default GripVertical;\n"],"names":[],"mappings":"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AAS,QAAQ,CAAC,MAAO,EAAA,OAAG,EAC5B,EAAS,QAAQ,CAAC,SDjDlB,CCiD4B,QDjDnB,AAAO,CAAI,EAoJlB,IAAM,EAAW,CACf,QAAS,AAvGa,CACtB,WACA,KACA,OACA,QACA,OACA,QACA,QACA,QACA,WACA,KACA,OACA,QACA,WACA,SACA,UACA,QACA,MACA,UACA,OACA,KACA,WACA,KACA,YACA,WACA,KACA,OACA,YACA,MACA,WACA,MACA,WACA,SACA,UACA,YACA,SACA,WACA,SACA,MACA,SACA,SACA,SACA,SACA,aACA,SACA,SACA,SACA,OACA,QACA,MACA,SACA,YACA,SACA,QACA,UACA,OACA,WACA,QACD,CA6C0B,MAAM,CAAC,AA5CN,CAC1B,MACA,QACA,MACA,YACA,OACA,QACA,QACA,KACA,aACA,UACA,SACA,OACA,OACA,MACA,SACA,QACA,OACA,OACA,OACA,MACA,SACA,MACA,UACA,KACA,KACA,UACA,UACA,SACA,SACA,WACA,SACA,SACA,MACA,YACA,UACA,MACA,OACA,QACA,OACA,QACD,EAIC,SArJwB,CACxB,AAoJU,OAnJV,OACA,OACA,UACA,WACA,SACA,UACA,OACA,QACA,MACA,OACA,OACA,QACA,SACA,QACA,QACA,SACA,QACA,OACA,SACD,CAiIC,QA/GuB,CA+Gd,AA9GT,UACA,QACA,OACA,OA4GF,AA3GC,EA4GK,EAAa,EAAK,OAAO,CAAC,EAAK,UAAU,CAAE,CAAE,MAAO,oBAAqB,GACzE,EAAU,CACd,UAAW,SACX,SAAU,CACR,CAAE,MAAO,eAAiB,EAC1B,CAAE,MAAO,iEAAqE,EAC9E,CAAE,MAAO,qFAA2F,EACrG,CACD,UAAW,CACb,EAMM,EAAkB,CACtB,UAAW,SACX,MAAO,KACP,IAAK,IACL,SAAU,CAAE,CAAE,MAAO,IAAK,EAAG,AAC/B,EACM,EAAwB,EAAK,OAAO,CAAC,EAAiB,CAAE,QAAS,IAAK,GACtE,EAAQ,CACZ,UAAW,QACX,MAAO,KACP,IAAK,KACL,SAAU,CACZ,EACM,EAAc,EAAK,OAAO,CAAC,E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","ignoreList":[0,2,3]}