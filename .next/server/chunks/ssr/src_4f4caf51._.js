module.exports=[35231,a=>{"use strict";a.s(["default",()=>d]);var b=a.i(87924),c=a.i(78032);function d({title:a,tags:d,categories:e,sequences:f}){let g=f.filter(a=>a.blogContentId||a.blogMediaId).sort((a,b)=>a.sequence-b.sequence);return(0,b.jsx)("div",{className:"p-1 lg:p-6",children:(0,b.jsxs)("div",{className:"prose max-w-none",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:a||"Untitled Blog"}),(0,b.jsx)("br",{}),g.length>0?g.map((a,d)=>(0,b.jsxs)("div",{children:[a.blogContentId&&(0,b.jsx)("div",{children:(0,b.jsx)(c.default,{content:a.blogContent?.textContent||""})}),a.blogMediaId&&a.blogMedia&&(0,b.jsx)("div",{children:(()=>{let c=a.blogMedia;if(!c)return null;switch(c.mediaType){case"IMAGE":return(0,b.jsxs)("div",{className:"my-4",children:[(0,b.jsx)("img",{src:c.mediaUrl,alt:c.name,className:"max-w-full h-auto rounded-lg shadow-md"}),c.description&&(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-2 italic text-center",children:c.description})]});case"VIDEO":return(0,b.jsxs)("div",{className:"my-4",children:[(0,b.jsx)("video",{src:c.mediaUrl,controls:!0,className:"max-w-full h-auto rounded-lg shadow-md",children:"Your browser does not support the video tag."}),c.description&&(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-2 italic text-center",children:c.description})]});case"AUDIO":return(0,b.jsxs)("div",{className:"my-4",children:[(0,b.jsx)("audio",{src:c.mediaUrl,controls:!0,className:"w-full",children:"Your browser does not support the audio tag."}),c.description&&(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-2 italic text-center",children:c.description})]});default:return(0,b.jsxs)("div",{className:"my-4 p-4 bg-gray-100 rounded-lg",children:[(0,b.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,b.jsx)("strong",{children:c.name})," (",c.mediaType,")"]}),c.description&&(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-2 italic text-center",children:c.description}),(0,b.jsx)("a",{href:c.mediaUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-sm",children:"View/Download"})]})}})()})]},a.id)):(0,b.jsx)("div",{className:"text-gray-500 italic",children:"No content or media added yet. Add some content or media to see the preview."}),(d.length>0||e.length>0)&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("hr",{className:"my-8 border-gray-300"}),(0,b.jsxs)("div",{className:"space-y-4",children:[d.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Tags"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:d.map((a,c)=>(0,b.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:a},c))})]}),e.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Categories"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:e.map(a=>(0,b.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:a.name},a.id))})]})]})]})]})})}},12205,a=>{"use strict";a.s(["default",()=>g]);var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(83069),f=a.i(35231);function g({params:a}){let[g,h]=(0,c.useState)(null),[i,j]=(0,c.useState)(!0),[k,l]=(0,c.useState)(""),{isAdmin:m,isEditor:n,isAuthor:o}=(0,e.useRole)();(0,c.useEffect)(()=>{(async()=>{try{let b=await a,c=await fetch(`/api/blogs/${b.id}`);if(!c.ok)return void(404===c.status?l("Blog not found"):l("Failed to load blog"));let d=await c.json();h(d.blog)}catch(a){console.error("Error fetching blog:",a),l("Failed to load blog")}finally{j(!1)}})()},[a]);let p=a=>{switch(a){case"PUBLISHED":return"bg-green-100 text-green-800";case"DRAFT":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},q=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return m||n||o?i?(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,b.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading blog..."})]})}):k?(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Error"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6",children:k}),(0,b.jsx)(d.default,{href:"/admin/blogs",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Back to Blogs"})]})}):g?(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)("div",{className:"bg-white shadow",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,b.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsx)(d.default,{href:"/admin/blogs",className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700",children:(0,b.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:g.title}),(0,b.jsxs)("div",{className:"mt-2 flex items-center space-x-4",children:[(0,b.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${p(g.status)}`,children:g.status}),(0,b.jsxs)("span",{className:"text-sm text-gray-500",children:["Slug: ",g.slug]})]})]})]}),(0,b.jsx)("div",{className:"flex items-center space-x-3",children:(0,b.jsxs)(d.default,{href:`/admin/blogs/${g.id}/edit`,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,b.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit Blog"]})})]})})}),(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,b.jsx)("div",{className:"lg:col-span-2",children:(0,b.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:(0,b.jsx)(f.default,{title:g.title,tags:g.tags,categories:g.categories.map(a=>a.category),sequences:g.sequences})})}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Blog Information"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Status"}),(0,b.jsx)("div",{className:"mt-1",children:(0,b.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${p(g.status)}`,children:g.status})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Slug"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-900 font-mono",children:g.slug})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Created"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:q(g.createdAt)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Last Updated"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:q(g.updatedAt)})]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Author"}),(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[g.author.imageUrl?(0,b.jsx)("img",{className:"h-10 w-10 rounded-full",src:g.author.imageUrl,alt:g.author.name||"Author"}):(0,b.jsx)("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-sm font-medium text-gray-700",children:g.author.name?.charAt(0)||g.author.email.charAt(0).toUpperCase()})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900",children:g.author.name||"Anonymous"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:g.author.email})]})]})]}),g.tags.length>0&&(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Tags"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:g.tags.map((a,c)=>(0,b.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:a},c))})]}),g.categories.length>0&&(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Categories"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:g.categories.map(a=>(0,b.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:a.category.name},a.category.id))})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Content Summary"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"Total Sequences:"}),(0,b.jsx)("span",{className:"font-medium",children:g.sequences.length})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"Content Items:"}),(0,b.jsx)("span",{className:"font-medium",children:g.sequences.filter(a=>null!==a.blogContentId).length})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"Media Items:"}),(0,b.jsx)("span",{className:"font-medium",children:g.sequences.filter(a=>null!==a.blogMediaId).length})]})]})]})]})]})})]}):(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Blog Not Found"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6",children:"The blog you're looking for doesn't exist."}),(0,b.jsx)(d.default,{href:"/admin/blogs",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Back to Blogs"})]})}):(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6",children:"You don't have permission to view blogs."}),(0,b.jsx)(d.default,{href:"/",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Go Home"})]})})}}];

//# sourceMappingURL=src_4f4caf51._.js.map