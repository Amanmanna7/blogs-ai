{"version":3,"sources":["turbopack:///[project]/src/components/CategoryForm.tsx","turbopack:///[project]/src/app/admin/categories/create/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { useRouter } from 'next/navigation';\n\ninterface CategoryFormProps {\n  initialData?: {\n    id: string;\n    name: string;\n  };\n  isEditing?: boolean;\n}\n\nexport default function CategoryForm({ initialData, isEditing = false }: CategoryFormProps) {\n  const [name, setName] = useState(initialData?.name || '');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [error, setError] = useState('');\n  const router = useRouter();\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsSubmitting(true);\n    setError('');\n\n    try {\n      const url = isEditing ? `/api/categories/${initialData?.id}` : '/api/categories';\n      const method = isEditing ? 'PUT' : 'POST';\n      \n      const response = await fetch(url, {\n        method,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ name }),\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || 'Failed to save category');\n      }\n\n      const result = await response.json();\n      \n      if (isEditing) {\n        router.push('/admin/categories');\n      } else {\n        router.push('/admin/categories');\n      }\n    } catch (error) {\n      console.error('Error saving category:', error);\n      setError(error instanceof Error ? error.message : 'Failed to save category');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"max-w-md mx-auto bg-white rounded-lg shadow-md p-6\">\n      <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">\n        {isEditing ? 'Edit Category' : 'Create New Category'}\n      </h2>\n      \n      <form onSubmit={handleSubmit} className=\"space-y-4\">\n        <div>\n          <label htmlFor=\"name\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Category Name\n          </label>\n          <input\n            type=\"text\"\n            id=\"name\"\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            placeholder=\"Enter category name\"\n            required\n            disabled={isSubmitting}\n          />\n        </div>\n\n        {error && (\n          <div className=\"text-red-600 text-sm bg-red-50 p-3 rounded-md\">\n            {error}\n          </div>\n        )}\n\n        <div className=\"flex space-x-3\">\n          <button\n            type=\"submit\"\n            disabled={isSubmitting || !name.trim()}\n            className=\"flex-1 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n          >\n            {isSubmitting ? 'Saving...' : (isEditing ? 'Update Category' : 'Create Category')}\n          </button>\n          \n          <button\n            type=\"button\"\n            onClick={() => router.push('/admin/categories')}\n            className=\"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors\"\n            disabled={isSubmitting}\n          >\n            Cancel\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n","'use client';\n\nimport { useRole } from '@/hooks/useRole';\nimport CategoryForm from '@/components/CategoryForm';\n\nexport default function CreateCategoryPage() {\n  const { isAdmin, isEditor, isAuthor } = useRole();\n\n  // Check if user has permission\n  if (!isAdmin && !isEditor && !isAuthor) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <h1 className=\"text-2xl font-bold text-gray-900 mb-4\">Access Denied</h1>\n          <p className=\"text-gray-600 mb-6\">You don't have permission to create categories.</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 py-8\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <CategoryForm />\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"+EAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAUe,SAAS,EAAa,aAAE,CAAW,WAAE,GAAY,CAAK,CAAqB,EACxF,GAAM,CAAC,EAAM,EAAQ,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GAAa,MAAQ,IAChD,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC3C,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC7B,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAElB,EAAe,MAAO,IAC1B,EAAE,cAAc,GAChB,GAAgB,GAChB,EAAS,IAET,GAAI,CACF,IAAM,EAAM,EAAY,CAAC,gBAAgB,EAAE,GAAa,GAAA,CAAI,CAAG,kBAGzD,EAAW,MAAM,MAAM,EAAK,CAChC,OAHa,EAAY,MAAQ,OAIjC,QAAS,CACP,eAAgB,kBAClB,EACA,KAAM,KAAK,SAAS,CAAC,MAAE,CAAK,EAC9B,GAEA,GAAI,CAAC,EAAS,EAAE,CAAE,CAChB,IAAM,EAAY,MAAM,EAAS,IAAI,EACrC,OAAM,AAAI,MAAM,EAAU,KAAK,EAAI,0BACrC,CAEe,MAAM,EAAS,IAAI,GAGhC,EAAO,IAAI,CAAC,oBAIhB,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,yBAA0B,GACxC,EAAS,aAAiB,MAAQ,EAAM,OAAO,CAAG,0BACpD,QAAU,CACR,GAAgB,EAClB,CACF,EAEA,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+DACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,iDACX,EAAY,gBAAkB,wBAGjC,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAAU,EAAc,UAAU,sBACtC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,QAAQ,OAAO,UAAU,wDAA+C,kBAG/E,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,GAAG,OACH,MAAO,EACP,SAAU,AAAC,GAAM,EAAQ,EAAE,MAAM,CAAC,KAAK,EACvC,UAAU,yIACV,YAAY,sBACZ,QAAQ,CAAA,CAAA,EACR,SAAU,OAIb,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yDACZ,IAIL,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,KAAK,SACL,SAAU,GAAgB,CAAC,EAAK,IAAI,GACpC,UAAU,0NAET,EAAe,YAAe,EAAY,kBAAoB,oBAGjE,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,KAAK,SACL,QAAS,IAAM,EAAO,IAAI,CAAC,qBAC3B,UAAU,oKACV,SAAU,WACX,mBAOX,iECxGA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,IACtB,GAAM,SAAE,CAAO,UAAE,CAAQ,UAAE,CAAQ,CAAE,CAAG,CAAA,EAAA,EAAA,OAAA,AAAO,WAG/C,AAAI,AAAC,GAAY,GAAa,EAY5B,CAAA,EAZc,AAYd,EAAA,EAZ2B,CAAW,AAYtC,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAY,CAAA,CAAA,OAZf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,iDAAwC,kBACtD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8BAAqB,wDAa5C"}