module.exports=[44873,a=>{"use strict";a.s(["default",()=>S],44873);var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(15618),f=a.i(33508),g=a.i(70106);let h=(0,g.default)("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),i=(0,g.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var j=a.i(5467),k=a.i(13872),l=a.i(28977),m=a.i(51237);a.i(2196);var n=a.i(439),o=a.i(91366),p=a.i(6233),q=a.i(5676),r=a.i(37100);a.i(1993),a.i(5599),a.i(53264);var s=a.i(64327),t=a.i(25699),u=a.i(54425),v=a.i(77983);a.i(90198);var w=a.i(89464),x=a.i(53209),y=a.i(96298),z=a.i(5217),A=a.i(74353),B=a.i(99802),C=a.i(99015),D=a.i(48269),E=a.i(47806),F=a.i(42237),G=a.i(22811),H=a.i(43852),I=a.i(37544),J=a.i(55377),K=a.i(40680),L=a.i(74739),M=a.i(52275),N=a.i(71934),O=a.i(62996),P=a.i(5914),Q=a.i(96e3);let R=(0,x.createLowlight)();function S({initialData:a,isEditing:g=!1,courseId:x}){let[z,A]=(0,c.useState)({courseId:a?.courseId||x||"",sequenceNumber:a?.sequenceNumber||1,name:a?.name||"",description:a?.description||""}),B=(0,k.useEditor)({extensions:[l.default,m.TextStyle.extend({addAttributes(){return{...this.parent?.(),fontSize:{default:null,parseHTML:a=>a.style.fontSize,renderHTML:a=>a.fontSize?{style:`font-size: ${a.fontSize}`}:{}},fontFamily:{default:null,parseHTML:a=>a.style.fontFamily,renderHTML:a=>a.fontFamily?{style:`font-family: ${a.fontFamily}`}:{}}}}}),m.Color,n.TextAlign.configure({types:["heading","paragraph"]}),o.Link.configure({openOnClick:!1,HTMLAttributes:{class:"text-blue-600 underline cursor-pointer"}}),p.Image.configure({HTMLAttributes:{class:"max-w-full h-auto rounded-lg"}}),q.CodeBlockLowlight.configure({lowlight:R,HTMLAttributes:{class:"bg-gray-900 text-gray-100 rounded-lg p-4 my-4 overflow-x-auto font-mono text-sm"}}),r.Table.configure({resizable:!0,HTMLAttributes:{class:"table-auto border-collapse"}}),r.TableRow,r.TableHeader,r.TableCell,s.HorizontalRule,t.Subscript,u.Superscript,v.Underline,m.FontFamily.configure({types:["textStyle"]}),w.Emoji.configure({enableEmoticons:!0,suggestion:{items:({query:a})=>["ðŸ˜€","ðŸ˜ƒ","ðŸ˜„","ðŸ˜","ðŸ˜†","ðŸ˜…","ðŸ¤£","ðŸ˜‚","ðŸ™‚","ðŸ™ƒ","ðŸ˜‰","ðŸ˜Š","ðŸ˜‡","ðŸ¥°","ðŸ˜","ðŸ¤©","ðŸ˜˜","ðŸ˜—","ðŸ˜š","ðŸ˜™","ðŸ˜‹","ðŸ˜›","ðŸ˜œ","ðŸ¤ª","ðŸ˜","ðŸ¤‘","ðŸ¤—","ðŸ¤­","ðŸ¤«","ðŸ¤”","ðŸ¤","ðŸ¤¨","ðŸ˜","ðŸ˜‘","ðŸ˜¶","ðŸ˜","ðŸ˜’","ðŸ™„","ðŸ˜¬","ðŸ¤¥","ðŸ˜Œ","ðŸ˜”","ðŸ˜ª","ðŸ¤¤","ðŸ˜´","ðŸ˜·","ðŸ¤’","ðŸ¤•","ðŸ¤¢","ðŸ¤®","ðŸ¤§","ðŸ¥µ","ðŸ¥¶","ðŸ¥´","ðŸ˜µ","ðŸ¤¯","ðŸ¤ ","ðŸ¥³","ðŸ˜Ž","ðŸ¤“","ðŸ§","ðŸ˜•","ðŸ˜Ÿ","ðŸ™","â˜¹ï¸","ðŸ˜®","ðŸ˜¯","ðŸ˜²","ðŸ˜³","ðŸ¥º","ðŸ˜¦","ðŸ˜§","ðŸ˜¨","ðŸ˜°","ðŸ˜¥","ðŸ˜¢","ðŸ˜­","ðŸ˜±","ðŸ˜–","ðŸ˜£","ðŸ˜ž","ðŸ˜“","ðŸ˜©","ðŸ˜«","ðŸ¥±","ðŸ˜¤","ðŸ˜¡","ðŸ˜ ","ðŸ¤¬","ðŸ˜ˆ","ðŸ‘¿","ðŸ’€","â˜ ï¸","ðŸ’©","ðŸ¤¡","ðŸ‘¹","ðŸ‘º","ðŸ‘»","ðŸ‘½","ðŸ‘¾","ðŸ¤–","ðŸ˜º","ðŸ˜¸","ðŸ˜¹","ðŸ˜»","ðŸ˜¼","ðŸ˜½","ðŸ™€","ðŸ˜¿","ðŸ˜¾"].filter(b=>b.toLowerCase().startsWith(a.toLowerCase())).slice(0,10)}})],content:z.description,immediatelyRender:!1,onUpdate:({editor:a})=>{let b=a.getHTML();A(a=>({...a,description:b}))},editorProps:{attributes:{class:"prose prose-sm max-w-none focus:outline-none min-h-[120px] p-3"}}});(0,c.useEffect)(()=>{B&&z.description!==B.getHTML()&&B.commands.setContent(z.description)},[z.description,B]);let[C,D]=(0,c.useState)(a?.blogRelations?.map(a=>({id:a.id,sequence:a.sequence,blogId:a.blogId,blog:a.blog}))||[]),[E,F]=(0,c.useState)(!1),[G,H]=(0,c.useState)(""),[I,J]=(0,c.useState)([]),[K,L]=(0,c.useState)([]),[M,N]=(0,c.useState)(!0),[O,P]=(0,c.useState)(null),[Q]=(0,c.useState)(!0),S=(0,d.useRouter)();(0,c.useEffect)(()=>{T()},[]);let T=async()=>{try{N(!0);let[a,b]=await Promise.all([fetch("/api/courses"),fetch("/api/blogs/public")]);if(!a.ok||!b.ok)throw Error("Failed to fetch data");let[c,d]=await Promise.all([a.json(),b.json()]),e=await Promise.all((c.data||[]).map(async a=>{try{let b=await fetch(`/api/admin/chapter-topics/${a.id}`);if(b.ok){let c=await b.json();return{...a,chapterTopics:c.data||[]}}return{...a,chapterTopics:[]}}catch(b){return console.error(`Error fetching chapters for course ${a.id}:`,b),{...a,chapterTopics:[]}}}));J(e),L(d.data||[])}catch(a){H(a instanceof Error?a.message:"Failed to fetch data")}finally{N(!1)}},U=async b=>{if(b.preventDefault(),F(!0),H(""),W(z.sequenceNumber)){H("This sequence number is already used in this course. Please choose a different number."),F(!1);return}try{let b=g?`/api/chapter-topics/${a?.id}`:"/api/chapter-topics",c=g?"PUT":"POST",d=await fetch(b,{method:c,headers:{"Content-Type":"application/json"},body:JSON.stringify({...z,blogSequences:C.map(a=>({blogId:a.blogId,sequence:a.sequence}))})});if(!d.ok){let a=await d.json();throw Error(a.error||"Failed to save chapter topic")}await d.json(),S.push(`/admin/courses/${z.courseId}`)}catch(a){H(a instanceof Error?a.message:"Failed to save chapter topic")}finally{F(!1)}},V=(a,b)=>{A(c=>({...c,[a]:b}))},W=b=>!!Z&&Z.chapterTopics.some(c=>c.sequenceNumber===b&&c.id!==a?.id),X=a=>{a.preventDefault(),a.dataTransfer.dropEffect="move"},Y=()=>{P(null)},Z=I.find(a=>a.id===z.courseId);return M?(0,b.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,b.jsx)("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):(0,b.jsx)("div",{className:"max-w-7xl mx-auto p-6",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-md",children:[(0,b.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:g?"Edit Chapter Topic":"Create Chapter Topic"}),(0,b.jsx)("p",{className:"text-gray-600 mt-1",children:g?"Update chapter topic information":"Fill in the details to create a new chapter topic"})]}),(0,b.jsxs)("form",{onSubmit:U,className:"p-6 space-y-6",children:[G&&(0,b.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:(0,b.jsx)("span",{className:"block sm:inline",children:G})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"courseId",className:"block text-sm font-medium text-gray-700 mb-2",children:"Course *"}),(0,b.jsxs)("select",{id:"courseId",value:z.courseId,onChange:a=>V("courseId",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,disabled:E||!!x,children:[(0,b.jsx)("option",{value:"",children:"Select a course"}),I.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"sequenceNumber",className:"block text-sm font-medium text-gray-700 mb-2",children:"Sequence Number *"}),(0,b.jsx)("input",{type:"number",id:"sequenceNumber",value:z.sequenceNumber||"",onChange:a=>{let b=a.target.value;V("sequenceNumber",""===b?1:parseInt(b,10))},className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:border-blue-500 ${W(z.sequenceNumber)?"border-red-300 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`,min:"1",required:!0,disabled:E}),W(z.sequenceNumber)&&(0,b.jsx)("p",{className:"mt-1 text-sm text-red-600",children:"This sequence number is already used in this course. Please choose a different number."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Chapter Name *"}),(0,b.jsx)("input",{type:"text",id:"name",value:z.name,onChange:a=>V("name",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter chapter name",required:!0,disabled:E})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),(0,b.jsxs)("div",{className:"border border-gray-300 rounded-lg shadow-sm focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-blue-500",children:[B&&(0,b.jsx)(function({editor:a}){let[d,e]=(0,c.useState)(!1),f=(0,k.useEditorState)({editor:a,selector:a=>({isBold:a.editor.isActive("bold")??!1,canBold:a.editor.can().chain().toggleBold().run()??!1,isItalic:a.editor.isActive("italic")??!1,canItalic:a.editor.can().chain().toggleItalic().run()??!1,isUnderline:a.editor.isActive("underline")??!1,canUnderline:a.editor.can().chain().toggleUnderline().run()??!1,isStrike:a.editor.isActive("strike")??!1,canStrike:a.editor.can().chain().toggleStrike().run()??!1,isCode:a.editor.isActive("code")??!1,canCode:a.editor.can().chain().toggleCode().run()??!1,isParagraph:a.editor.isActive("paragraph")??!1,isHeading1:a.editor.isActive("heading",{level:1})??!1,isHeading2:a.editor.isActive("heading",{level:2})??!1,isHeading3:a.editor.isActive("heading",{level:3})??!1,isBulletList:a.editor.isActive("bulletList")??!1,isOrderedList:a.editor.isActive("orderedList")??!1,isBlockquote:a.editor.isActive("blockquote")??!1,canUndo:a.editor.can().chain().undo().run()??!1,canRedo:a.editor.can().chain().redo().run()??!1,isAlignLeft:a.editor.isActive({textAlign:"left"})??!1,isAlignCenter:a.editor.isActive({textAlign:"center"})??!1,isAlignRight:a.editor.isActive({textAlign:"right"})??!1,currentColor:a.editor.getAttributes("textStyle").color||""})});return(0,b.jsxs)("div",{className:"border border-gray-300 border-b-0 rounded-t-lg bg-gray-50 p-2 flex flex-wrap gap-1 relative",children:[(0,b.jsx)("button",{onClick:()=>a.chain().focus().toggleBold().run(),disabled:!f.canBold,className:`px-3 py-1 text-sm rounded hover:bg-gray-200 ${f.isBold?"bg-gray-300":""}`,title:"Bold",children:(0,b.jsx)("strong",{children:"B"})}),(0,b.jsx)("button",{onClick:()=>a.chain().focus().toggleItalic().run(),disabled:!f.canItalic,className:`px-3 py-1 text-sm rounded hover:bg-gray-200 ${f.isItalic?"bg-gray-300":""}`,title:"Italic",children:(0,b.jsx)("em",{children:"I"})}),(0,b.jsx)("button",{onClick:()=>a.chain().focus().toggleUnderline().run(),disabled:!f.canUnderline,className:`px-3 py-1 text-sm rounded hover:bg-gray-200 ${f.isUnderline?"bg-gray-300":""}`,title:"Underline",children:(0,b.jsx)("u",{children:"U"})}),(0,b.jsx)("button",{onClick:()=>a.chain().focus().toggleStrike().run(),disabled:!f.canStrike,className:`px-3 py-1 text-sm rounded hover:bg-gray-200 ${f.isStrike?"bg-gray-300":""}`,title:"Strikethrough",children:(0,b.jsx)("s",{children:"S"})}),(0,b.jsx)("button",{onClick:()=>a.chain().focus().toggleCode().run(),disabled:!f.canCode,className:`px-3 py-1 text-sm rounded hover:bg-gray-200 ${f.isCode?"bg-gray-300":""}`,title:"Inline Code",children:"</>"}),(0,b.jsx)("div",{className:"w-px h-6 bg-gray-300 mx-1"}),(0,b.jsx)("button",{onClick:()=>a.chain().focus().setParagraph().run(),className:`px-3 py-1 text-sm rounded hover:bg-gray-200 ${f.isParagraph?"bg-gray-300":""}`,title:"Paragraph",children:"P"}),(0,b.jsx)("button",{onClick:()=>a.chain().focus().toggleHeading({level:1}).run(),className:`px-3 py-1 text-sm rounded hover:bg-gray-200 ${f.isHeading1?"bg-gray-300":""}`,title:"Heading 1",children:"H1"}),(0,b.jsx)("button",{onClick:()=>a.chain().focus().toggleHeading({level:2}).run(),className:`px-3 py-1 text-sm rounded hover:bg-gray-200 ${f.isHeading2?"bg-gray-300":""}`,title:"Heading 2",children:"H2"}),(0,b.jsx)("button",{onClick:()=>a.chain().focus().toggleHeading({level:3}).run(),className:`px-3 py-1 text-sm rounded hover:bg-gray-200 ${f.isHeading3?"bg-gray-300":""}`,title:"Heading 3",children:"H3"}),(0,b.jsx)("div",{className:"w-px h-6 bg-gray-300 mx-1"}),(0,b.jsx)("button",{onClick:()=>a.chain().focus().toggleBulletList().run(),className:`px-3 py-1 text-sm rounded hover:bg-gray-200 ${f.isBulletList?"bg-gray-300":""}`,title:"Bullet List",children:"â€¢"}),(0,b.jsx)("button",{onClick:()=>a.chain().focus().toggleOrderedList().run(),className:`px-3 py-1 text-sm rounded hover:bg-gray-200 ${f.isOrderedList?"bg-gray-300":""}`,title:"Numbered List",children:"1."}),(0,b.jsx)("button",{onClick:()=>a.chain().focus().toggleBlockquote().run(),className:`px-3 py-1 text-sm rounded hover:bg-gray-200 ${f.isBlockquote?"bg-gray-300":""}`,title:"Quote",children:'"'}),(0,b.jsx)("div",{className:"w-px h-6 bg-gray-300 mx-1"}),(0,b.jsx)("button",{onClick:()=>a.chain().focus().setTextAlign("left").run(),className:`px-3 py-1 text-sm rounded hover:bg-gray-200 ${f.isAlignLeft?"bg-gray-300":""}`,title:"Align Left",children:"â¬…"}),(0,b.jsx)("button",{onClick:()=>a.chain().focus().setTextAlign("center").run(),className:`px-3 py-1 text-sm rounded hover:bg-gray-200 ${f.isAlignCenter?"bg-gray-300":""}`,title:"Align Center",children:"â†”"}),(0,b.jsx)("button",{onClick:()=>a.chain().focus().setTextAlign("right").run(),className:`px-3 py-1 text-sm rounded hover:bg-gray-200 ${f.isAlignRight?"bg-gray-300":""}`,title:"Align Right",children:"âž¡"}),(0,b.jsx)("div",{className:"w-px h-6 bg-gray-300 mx-1"}),(0,b.jsx)("button",{onClick:()=>a.chain().focus().undo().run(),disabled:!f.canUndo,className:"px-3 py-1 text-sm rounded hover:bg-gray-200",title:"Undo",children:"â†¶"}),(0,b.jsx)("button",{onClick:()=>a.chain().focus().redo().run(),disabled:!f.canRedo,className:"px-3 py-1 text-sm rounded hover:bg-gray-200",title:"Redo",children:"â†·"}),(0,b.jsx)("input",{type:"color",onChange:b=>a.chain().focus().setColor(b.target.value).run(),value:f.currentColor||"#000000",className:"w-8 h-8 border border-gray-300 rounded cursor-pointer",title:"Text Color"}),(0,b.jsx)("button",{onClick:()=>e(!d),className:"px-3 py-1 text-sm rounded hover:bg-gray-200",title:"Emoji",children:"ðŸ˜€"}),d&&(0,b.jsx)("div",{className:"absolute top-full left-0 z-50 mt-1",children:(0,b.jsx)(y.default,{onEmojiClick:b=>{a.chain().focus().insertContent(b.emoji).run(),e(!1)},width:300,height:400})})]})},{editor:B}),(0,b.jsx)("div",{className:"border border-gray-300 border-t-0 rounded-b-lg overflow-hidden",children:(0,b.jsx)(k.EditorContent,{editor:B,className:"prose prose-sm max-w-none p-3 min-h-[120px] focus:outline-none"})})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Blog Sequences"}),(0,b.jsxs)("button",{type:"button",onClick:()=>{let a=Math.max(...C.map(a=>a.sequence),0)+1;D([...C,{id:`temp-${Date.now()}`,sequence:a,blogId:"",blog:{}}])},className:"inline-flex items-center px-3 py-1.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm",disabled:E,children:[(0,b.jsx)(e.Plus,{className:"w-4 h-4 mr-1"}),"Add Blog"]})]}),0===K.length&&(0,b.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-4 mb-4",children:(0,b.jsxs)("div",{className:"flex",children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:(0,b.jsx)("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,b.jsxs)("div",{className:"ml-3",children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-yellow-800",children:"No Blogs Available"}),(0,b.jsxs)("div",{className:"mt-2 text-sm text-yellow-700",children:[(0,b.jsx)("p",{children:"You need to create some blogs before you can add them to chapter topics."}),(0,b.jsx)("p",{className:"mt-1",children:(0,b.jsx)("a",{href:"/admin/blogs",className:"font-medium underline text-yellow-800 hover:text-yellow-900",children:"Go to Blogs Management â†’"})})]})]})]})}),(0,b.jsx)("div",{className:"space-y-3",children:C.map((a,c)=>(0,b.jsxs)("div",{draggable:!0,onDragStart:a=>{P(c),a.dataTransfer.effectAllowed="move",a.dataTransfer.setData("text/plain",c.toString())},onDragOver:X,onDrop:a=>((a,b)=>{a.preventDefault();let c=parseInt(a.dataTransfer.getData("text/plain"));c!==b&&((a,b)=>{if(a===b)return;let c=C[a],d=[...C];d.splice(a,1),d.splice(b,0,c),D(d.map((a,b)=>({...a,sequence:b+1})))})(c,b),P(null)})(a,c),onDragEnd:Y,className:`border border-gray-200 rounded-lg p-4 bg-gray-50 transition-all duration-200 cursor-move ${O===c?"opacity-50 transform rotate-2 scale-105 shadow-lg":"hover:shadow-md"}`,children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)(h,{className:"w-4 h-4 text-gray-400 cursor-move"}),(0,b.jsx)("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center text-xs font-medium text-blue-600",children:a.sequence}),(0,b.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Blog ",a.sequence]})]}),(0,b.jsx)("button",{type:"button",onClick:()=>{var b;return b=a.id,void D(C.filter(a=>a.id!==b).sort((a,b)=>a.sequence-b.sequence).map((a,b)=>({...a,sequence:b+1})))},className:"text-red-500 hover:text-red-700 text-sm",disabled:E,children:(0,b.jsx)(f.X,{className:"w-4 h-4"})})]}),(0,b.jsx)(j.default,{options:K.map(a=>({value:a.id,label:`${a.title} [${a.status}]`})),value:a.blogId||"",onChange:b=>{var c,d;return c=a.id,d={blogId:b||void 0},void D(C.map(a=>{if(a.id===c){let b={...a,...d};if(d.blogId){let a=K.find(a=>a.id===d.blogId);a&&(b.blog=a)}else(void 0===d.blogId||""===d.blogId)&&(b.blogId="",b.blog={});return b}return a}))},placeholder:0===K.length?"No blogs available":"Select a blog",disabled:E,className:"w-full"}),a.blog&&a.blog.title&&(0,b.jsx)("div",{className:"mt-2 p-2 bg-white rounded border",children:(0,b.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,b.jsx)("strong",{children:"Selected:"})," ",a.blog.title,(0,b.jsx)("span",{className:`ml-2 px-2 py-1 text-xs rounded-full ${"PUBLISHED"===a.blog.status?"bg-green-100 text-green-800":"DRAFT"===a.blog.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:a.blog.status})]})})]},a.id))})]}),(0,b.jsx)("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200",children:(0,b.jsxs)("div",{className:"flex space-x-3",children:[(0,b.jsx)("button",{type:"button",onClick:()=>S.back(),className:"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",disabled:E,children:"Cancel"}),(0,b.jsx)("button",{type:"submit",disabled:!z.courseId||!z.name.trim()||!z.description.trim()||E,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:E?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),g?"Updating...":"Creating..."]}):(0,b.jsx)(b.Fragment,{children:g?"Update Chapter Topic":"Create Chapter Topic"})})]})})]})]})}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-md",children:[(0,b.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Preview"})}),(0,b.jsx)("div",{className:"p-6",children:Z?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 mb-4",children:[(0,b.jsx)("h1",{className:"text-xl font-bold text-blue-900",children:Z.name}),(0,b.jsx)("p",{className:"text-sm text-blue-700 mt-1",children:Z.description})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(()=>{let c=Z.chapterTopics.map(a=>({...a,isFormData:!1}));if(g&&a?.id){let b={id:a.id,courseId:z.courseId,sequenceNumber:z.sequenceNumber,name:z.name,description:z.description,blogRelations:C.map(a=>({id:a.id,blogId:a.blogId,sequence:a.sequence,blog:a.blog})),isFormData:!0},d=c.findIndex(b=>b.id===a.id);-1!==d&&(c[d]=b)}return c.sort((a,b)=>a.sequenceNumber-b.sequenceNumber).map((c,d)=>{let e=c.isFormData||g&&c.id===a?.id;return(0,b.jsxs)("div",{className:`rounded-lg p-4 ${e?"bg-blue-50 border-2 border-blue-200":"bg-gray-50"}`,children:[(0,b.jsxs)("h2",{className:`text-lg font-bold mb-2 ${e?"text-blue-900":"text-gray-900"}`,children:["Chapter ",c.sequenceNumber,": ",c.name,e&&(0,b.jsx)("span",{className:"ml-2 text-sm font-normal text-blue-600",children:"(Editing)"})]}),(0,b.jsxs)("details",{className:"group",open:e,children:[(0,b.jsxs)("summary",{className:`cursor-pointer text-sm flex items-center ${e?"text-blue-700 hover:text-blue-900":"text-gray-600 hover:text-gray-900"}`,children:[(0,b.jsx)("span",{className:"mr-2",children:(0,b.jsx)(i,{className:"w-4 h-4"})}),(0,b.jsx)("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:c.description||"Chapter description will appear here"}})]}),(0,b.jsx)("div",{className:`mt-2 pl-4 border-l-2 ${e?"border-blue-300":"border-gray-300"}`,children:(0,b.jsxs)("div",{className:"space-y-2",children:[c.blogRelations?.filter(a=>a.blog&&a.blog.title).sort((a,b)=>a.sequence-b.sequence).map(a=>(0,b.jsxs)("div",{className:`text-sm flex items-center ${e?"text-blue-700":"text-gray-700"}`,children:[(0,b.jsx)("span",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium mr-2 bg-blue-100 text-blue-600",children:a.sequence}),a.blog.title]},a.id)),(!c.blogRelations||0===c.blogRelations.length)&&(0,b.jsx)("p",{className:`text-sm italic ${e?"text-blue-500":"text-gray-500"}`,children:"No blogs added yet"})]})})]})]},c.id)})})(),z.name&&!g&&(0,b.jsxs)("div",{className:"bg-green-50 rounded-lg p-4 border-2 border-green-200",children:[(0,b.jsxs)("h2",{className:"text-lg font-bold text-green-900 mb-2",children:["Chapter ",z.sequenceNumber,": ",z.name]}),(0,b.jsxs)("details",{className:"group",open:!0,children:[(0,b.jsxs)("summary",{className:"cursor-pointer text-sm text-green-700 hover:text-green-900 flex items-center",children:[(0,b.jsx)("span",{className:"mr-2",children:(0,b.jsx)(i,{className:"w-4 h-4"})}),(0,b.jsx)("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:z.description||"Chapter description will appear here"}})]}),(0,b.jsx)("div",{className:"mt-2 pl-4 border-l-2 border-green-300",children:(0,b.jsxs)("div",{className:"space-y-2",children:[C.filter(a=>a.blogId&&a.blog.title).sort((a,b)=>a.sequence-b.sequence).map(a=>(0,b.jsxs)("div",{className:"text-sm text-green-700 flex items-center",children:[(0,b.jsx)("span",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center text-xs font-medium text-green-600 mr-2",children:a.sequence}),a.blog.title]},a.id)),0===C.filter(a=>a.blogId&&a.blog.title).length&&(0,b.jsx)("p",{className:"text-sm text-green-500 italic",children:"No blogs added yet"})]})})]})]})]})]}):(0,b.jsx)("div",{className:"text-center py-8",children:(0,b.jsx)("p",{className:"text-gray-500",children:"Select a course to see preview"})})})]})]})})}R.register("javascript",z.default),R.register("typescript",A.default),R.register("python",B.default),R.register("java",C.default),R.register("cpp",D.default),R.register("csharp",function(a){let b={keyword:["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"].concat(["add","alias","and","ascending","args","async","await","by","descending","dynamic","equals","file","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","record","remove","required","scoped","select","set","unmanaged","value|0","var","when","where","with","yield"]),built_in:["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],literal:["default","false","null","true"]},c=a.inherit(a.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),d={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},e={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},f=a.inherit(e,{illegal:/\n/}),g={className:"subst",begin:/\{/,end:/\}/,keywords:b},h=a.inherit(g,{illegal:/\n/}),i={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},a.BACKSLASH_ESCAPE,h]},j={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},g]},k=a.inherit(j,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},h]});g.contains=[j,i,e,a.APOS_STRING_MODE,a.QUOTE_STRING_MODE,d,a.C_BLOCK_COMMENT_MODE],h.contains=[k,i,f,a.APOS_STRING_MODE,a.QUOTE_STRING_MODE,d,a.inherit(a.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];let l={variants:[{className:"string",begin:/"""("*)(?!")(.|\n)*?"""\1/,relevance:1},j,i,e,a.APOS_STRING_MODE,a.QUOTE_STRING_MODE]},m={begin:"<",end:">",contains:[{beginKeywords:"in out"},c]},n=a.IDENT_RE+"(<"+a.IDENT_RE+"(\\s*,\\s*"+a.IDENT_RE+")*>)?(\\[\\])?",o={begin:"@"+a.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:b,illegal:/::/,contains:[a.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),a.C_LINE_COMMENT_MODE,a.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},l,d,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},c,m,a.C_LINE_COMMENT_MODE,a.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[c,a.C_LINE_COMMENT_MODE,a.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[c,m,a.C_LINE_COMMENT_MODE,a.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+n+"\\s+)+"+a.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:b,contains:[{beginKeywords:"public private protected static internal protected abstract async extern override unsafe virtual new sealed partial",relevance:0},{begin:a.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[a.TITLE_MODE,m],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:b,relevance:0,contains:[l,d,a.C_BLOCK_COMMENT_MODE]},a.C_LINE_COMMENT_MODE,a.C_BLOCK_COMMENT_MODE]},o]}}),R.register("php",E.default),R.register("ruby",F.default),R.register("go",G.default),R.register("rust",H.default),R.register("swift",I.default),R.register("kotlin",J.default),R.register("sql",K.default),R.register("html",L.default),R.register("css",M.default),R.register("json",N.default),R.register("yaml",O.default),R.register("bash",P.default),R.register("markdown",Q.default)}];

//# sourceMappingURL=src_components_ChapterTopicForm_tsx_fd91be93._.js.map