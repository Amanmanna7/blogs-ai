module.exports=[3990,a=>{"use strict";a.s(["default",()=>g]);var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(88269),f=a.i(83069);function g({params:a}){let g=(0,c.use)(a),[h,i]=(0,c.useState)(null),[j,k]=(0,c.useState)(!0),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)(!1),p=(0,d.useRouter)(),{user:q,isAuthor:r,isEditor:s}=(0,f.useRole)();(0,c.useEffect)(()=>{t()},[g.id]);let t=async()=>{try{k(!0);let a=await fetch(`/api/blog-content/${g.id}`);if(!a.ok)return void(404===a.status?m("Blog content not found"):403===a.status?m("You don't have permission to edit this content"):m("Failed to load blog content"));let b=await a.json();i(b.blogContent)}catch(a){console.error("Error fetching blog content:",a),m("Failed to load blog content")}finally{k(!1)}},u=async a=>{o(!0);try{let b=await fetch(`/api/blog-content/${g.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a.name,slug:a.slug,textContent:a.content})});if(!b.ok){let a=await b.json();throw Error(a.error||"Failed to update blog content")}p.push(`/admin/blog-contents/${g.id}`)}catch(a){throw console.error("Error updating blog content:",a),a}finally{o(!1)}},v=h&&(s||h.createdBy.id===q?.id);return j?(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Loading blog content..."})]})}):l?(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Error"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6",children:l}),(0,b.jsx)("button",{onClick:()=>p.push("/admin/blog-contents"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Go Back"})]})}):h?v?(0,b.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,b.jsx)(e.default,{initialContent:h.textContent,initialName:h.name,initialSlug:h.slug,onSave:u,isEditing:!0,contentId:h.id})}):(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6",children:"You don't have permission to edit this blog content."}),(0,b.jsx)("button",{onClick:()=>p.push(`/admin/blog-contents/${g.id}`),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"View Content"})]})}):(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Blog Content Not Found"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6",children:"The blog content you're looking for doesn't exist."}),(0,b.jsx)("button",{onClick:()=>p.push("/admin/blog-contents"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Go Back to Blog Contents"})]})})}}];

//# sourceMappingURL=src_app_admin_blog-contents_%5Bid%5D_edit_page_tsx_8baa8b93._.js.map