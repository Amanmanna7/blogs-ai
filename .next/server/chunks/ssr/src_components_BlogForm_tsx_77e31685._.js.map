{"version":3,"sources":["turbopack:///[project]/src/components/BlogForm.tsx","turbopack:///[project]/src/components/BlogSequenceItem.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useRole } from '@/hooks/useRole';\nimport BlogPreview from './BlogPreview';\nimport BlogSequenceItem from './BlogSequenceItem';\n\ninterface Category {\n  id: string;\n  name: string;\n}\n\ninterface BlogContent {\n  id: string;\n  name: string;\n  textContent: string;\n}\n\ninterface BlogMedia {\n  id: string;\n  name: string;\n  mediaUrl: string;\n  mediaType: string;\n}\n\ninterface BlogSequence {\n  id: string;\n  sequence: number;\n  type: 'content' | 'media';\n  blogContentId?: string;\n  blogMediaId?: string;\n  blogContent?: BlogContent;\n  blogMedia?: BlogMedia;\n}\n\ninterface BlogFormProps {\n  initialData?: {\n    id: string;\n    title: string;\n    slug: string;\n    tags: string[];\n    status: 'DRAFT' | 'PUBLISHED' | 'ARCHIVED';\n    readingTime?: number;\n    categories: Category[];\n    sequences: BlogSequence[];\n  };\n  isEditing?: boolean;\n}\n\nexport default function BlogForm({ initialData, isEditing = false }: BlogFormProps) {\n  const [title, setTitle] = useState(initialData?.title || '');\n  const [slug, setSlug] = useState(initialData?.slug || '');\n  const [tags, setTags] = useState<string[]>(initialData?.tags || []);\n  const [status, setStatus] = useState<'DRAFT' | 'PUBLISHED' | 'ARCHIVED'>(\n    initialData?.status || 'DRAFT'\n  );\n  const [readingTime, setReadingTime] = useState<number>(initialData?.readingTime || 5);\n  const [selectedCategories, setSelectedCategories] = useState<string[]>(() => {\n    const initialCategoryIds = initialData?.categories?.map(c => c.id) || [];\n    return initialCategoryIds;\n  });\n  const [sequences, setSequences] = useState<BlogSequence[]>(\n    initialData?.sequences || []\n  );\n  const [tagInput, setTagInput] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [error, setError] = useState('');\n  const [categories, setCategories] = useState<Category[]>([]);\n  const [blogContents, setBlogContents] = useState<BlogContent[]>([]);\n  const [blogMedia, setBlogMedia] = useState<BlogMedia[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [previewWidth, setPreviewWidth] = useState(50); // Percentage\n\n  const router = useRouter();\n  const { user } = useRole();\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  // Populate sequences with full data when editing\n  useEffect(() => {\n    if (isEditing && initialData?.sequences && blogContents.length > 0 && blogMedia.length > 0) {\n      \n      const populatedSequences = initialData.sequences.map(seq => {\n        const populatedSeq = { ...seq };\n        \n        // Populate blogContent if it exists\n        if (seq.blogContentId) {\n          const content = blogContents.find(c => c.id === seq.blogContentId);\n          if (content) {\n            populatedSeq.blogContent = content;\n            populatedSeq.type = 'content'; // Ensure type is set correctly\n          }\n        }\n        \n        // Populate blogMedia if it exists\n        if (seq.blogMediaId) {\n          const media = blogMedia.find(m => m.id === seq.blogMediaId);\n          if (media) {\n            populatedSeq.blogMedia = media;\n            populatedSeq.type = 'media'; // Ensure type is set correctly\n          }\n        }\n        \n        return populatedSeq;\n      });\n      \n      setSequences(populatedSequences);\n    }\n  }, [isEditing, initialData?.sequences, blogContents, blogMedia]);\n\n  // Ensure selected categories are properly set when editing\n  useEffect(() => {\n    \n    \n    if (isEditing && initialData?.categories && categories.length > 0) {\n      const categoryIds = initialData.categories.map(c => c.id);\n      setSelectedCategories(categoryIds);\n    }\n  }, [isEditing, initialData?.categories, categories]);\n\n  const fetchData = async () => {\n    try {\n      const [categoriesRes, contentsRes, mediaRes] = await Promise.all([\n        fetch('/api/categories'),\n        fetch('/api/blog-content'),\n        fetch('/api/blog-media')\n      ]);\n\n      const [categoriesData, contentsData, mediaData] = await Promise.all([\n        categoriesRes.json(),\n        contentsRes.json(),\n        mediaRes.json()\n      ]);\n      \n      setCategories(categoriesData.categories || []);\n      setBlogContents(contentsData.blogContents || []);\n      setBlogMedia(mediaData.data || []);\n    } catch (error) {\n      console.error('Error fetching data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const generateSlug = (title: string) => {\n    return title\n      .toLowerCase()\n      .replace(/[^a-z0-9\\s-]/g, '')\n      .replace(/\\s+/g, '-')\n      .replace(/-+/g, '-')\n      .trim();\n  };\n\n  const handleTitleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const newTitle = e.target.value;\n    setTitle(newTitle);\n    if (!isEditing || slug === generateSlug(initialData?.title || '')) {\n      setSlug(generateSlug(newTitle));\n    }\n  };\n\n  const handleTagAdd = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === 'Enter' && tagInput.trim()) {\n      e.preventDefault();\n      if (!tags.includes(tagInput.trim())) {\n        setTags([...tags, tagInput.trim()]);\n      }\n      setTagInput('');\n    }\n  };\n\n  const handleTagRemove = (tagToRemove: string) => {\n    setTags(tags.filter(tag => tag !== tagToRemove));\n  };\n\n  const addContentSequence = () => {\n    const nextSequence = Math.max(...sequences.map(s => s.sequence), 0) + 1;\n    const newSequence: BlogSequence = {\n      id: `temp-${Date.now()}`,\n      sequence: nextSequence,\n      type: 'content',\n      blogContentId: undefined\n    };\n    setSequences([...sequences, newSequence]);\n  };\n\n  const addMediaSequence = () => {\n    const nextSequence = Math.max(...sequences.map(s => s.sequence), 0) + 1;\n    const newSequence: BlogSequence = {\n      id: `temp-${Date.now()}`,\n      sequence: nextSequence,\n      type: 'media',\n      blogMediaId: undefined\n    };\n    setSequences([...sequences, newSequence]);\n  };\n\n  const updateSequence = (id: string, updates: Partial<BlogSequence>) => {\n    \n    setSequences(sequences.map(seq => {\n      if (seq.id === id) {\n        const updatedSeq = { ...seq, ...updates };\n        \n        // Clear the opposite type's data when switching types\n        if (updates.type === 'content') {\n          updatedSeq.blogMediaId = undefined;\n          updatedSeq.blogMedia = undefined;\n        } else if (updates.type === 'media') {\n          updatedSeq.blogContentId = undefined;\n          updatedSeq.blogContent = undefined;\n        }\n        \n        // If content is selected, populate the blogContent data\n        if (updates.blogContentId && updates.type === 'content') {\n          const selectedContent = blogContents.find(c => c.id === updates.blogContentId);\n          if (selectedContent) {\n            updatedSeq.blogContent = selectedContent;\n          }\n        }\n        \n        // If media is selected, populate the blogMedia data\n        if (updates.blogMediaId && updates.type === 'media') {\n          const selectedMedia = blogMedia.find(m => m.id === updates.blogMediaId);\n          if (selectedMedia) {\n            updatedSeq.blogMedia = selectedMedia;\n          }\n        }\n        \n        return updatedSeq;\n      }\n      return seq;\n    }));\n  };\n\n  const removeSequence = (id: string) => {\n    const newSequences = sequences.filter(seq => seq.id !== id);\n    // Reorder sequences\n    const reorderedSequences = newSequences\n      .sort((a, b) => a.sequence - b.sequence)\n      .map((seq, index) => ({ ...seq, sequence: index + 1 }));\n    setSequences(reorderedSequences);\n  };\n\n  const moveSequence = (dragIndex: number, hoverIndex: number) => {\n    \n    if (dragIndex === hoverIndex) {\n      return;\n    }\n    \n    if (dragIndex < 0 || dragIndex >= sequences.length || hoverIndex < 0 || hoverIndex >= sequences.length) {\n      console.error('Invalid drag indices:', { dragIndex, hoverIndex, length: sequences.length });\n      return;\n    }\n    \n    const draggedSequence = sequences[dragIndex];\n    const newSequences = [...sequences];\n    newSequences.splice(dragIndex, 1);\n    newSequences.splice(hoverIndex, 0, draggedSequence);\n    \n    // Update sequence numbers\n    const reorderedSequences = newSequences.map((seq, index) => ({\n      ...seq,\n      sequence: index + 1\n    }));\n    \n    setSequences(reorderedSequences);\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsSubmitting(true);\n    setError('');\n\n    try {\n      const url = isEditing ? `/api/blogs/${initialData?.id}` : '/api/blogs';\n      const method = isEditing ? 'PUT' : 'POST';\n      \n      const response = await fetch(url, {\n        method,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          title,\n          slug,\n          tags,\n          status,\n          readingTime,\n          authorId: user?.id,\n          categoryIds: selectedCategories,\n          sequences: sequences.map(seq => ({\n            sequence: seq.sequence,\n            type: seq.type,\n            blogContentId: seq.blogContentId,\n            blogMediaId: seq.blogMediaId\n          }))\n        }),\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || 'Failed to save blog');\n      }\n\n      const result = await response.json();\n      router.push('/admin/blogs');\n    } catch (error) {\n      console.error('Error saving blog:', error);\n      setError(error instanceof Error ? error.message : 'Failed to save blog');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600\">Loading...</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Show loading state while sequences are being populated in edit mode\n  if (isEditing && initialData?.sequences && sequences.length === 0) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600\">Loading blog sequences...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"flex h-screen\">\n        {/* Form Section */}\n        <div \n          className=\"bg-white shadow-lg overflow-y-auto\"\n          style={{ width: `${100 - previewWidth}%` }}\n        >\n          <div className=\"p-6\">\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">\n              {isEditing ? 'Edit Blog' : 'Create New Blog'}\n            </h2>\n            \n            <form onSubmit={handleSubmit} className=\"space-y-6\">\n              {/* Title */}\n              <div>\n                <label htmlFor=\"title\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Title *\n                </label>\n                <input\n                  type=\"text\"\n                  id=\"title\"\n                  value={title}\n                  onChange={handleTitleChange}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  placeholder=\"Enter blog title\"\n                  required\n                  disabled={isSubmitting}\n                />\n              </div>\n\n              {/* Slug */}\n              <div>\n                <label htmlFor=\"slug\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Slug *\n                </label>\n                <input\n                  type=\"text\"\n                  id=\"slug\"\n                  value={slug}\n                  onChange={(e) => setSlug(e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  placeholder=\"blog-slug\"\n                  required\n                  disabled={isSubmitting}\n                />\n              </div>\n\n              {/* Tags */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Tags\n                </label>\n                <div className=\"flex flex-wrap gap-2 mb-2\">\n                  {tags.map((tag, index) => (\n                    <span\n                      key={index}\n                      className=\"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800\"\n                    >\n                      {tag}\n                      <button\n                        type=\"button\"\n                        onClick={() => handleTagRemove(tag)}\n                        className=\"ml-2 text-blue-600 hover:text-blue-800\"\n                      >\n                        √ó\n                      </button>\n                    </span>\n                  ))}\n                </div>\n                <input\n                  type=\"text\"\n                  value={tagInput}\n                  onChange={(e) => setTagInput(e.target.value)}\n                  onKeyDown={handleTagAdd}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  placeholder=\"Add tags (press Enter to add)\"\n                  disabled={isSubmitting}\n                />\n              </div>\n\n              {/* Status */}\n              <div>\n                <label htmlFor=\"status\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Status\n                </label>\n                <select\n                  id=\"status\"\n                  value={status}\n                  onChange={(e) => setStatus(e.target.value as 'DRAFT' | 'PUBLISHED' | 'ARCHIVED')}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  disabled={isSubmitting}\n                >\n                  <option value=\"DRAFT\">Draft</option>\n                  <option value=\"PUBLISHED\">Published</option>\n                  <option value=\"ARCHIVED\">Archived</option>\n                </select>\n              </div>\n\n              {/* Reading Time */}\n              <div>\n                <label htmlFor=\"readingTime\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Reading Time (minutes)\n                </label>\n                <input\n                  type=\"number\"\n                  id=\"readingTime\"\n                  min=\"1\"\n                  max=\"120\"\n                  value={readingTime}\n                  onChange={(e) => setReadingTime(parseInt(e.target.value) || 5)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  placeholder=\"5\"\n                  disabled={isSubmitting}\n                />\n                <p className=\"mt-1 text-sm text-gray-500\">\n                  Estimated reading time in minutes (1-120)\n                </p>\n              </div>\n\n              {/* Categories */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Categories\n                </label>\n                <div className=\"space-y-2 max-h-32 overflow-y-auto border border-gray-300 rounded-md p-2\">\n                  {categories.map((category) => {\n                    const isSelected = selectedCategories.includes(category.id);\n                    return (\n                      <label key={category.id} className=\"flex items-center\">\n                        <input\n                          type=\"checkbox\"\n                          checked={isSelected}\n                          onChange={(e) => {\n                            if (e.target.checked) {\n                              setSelectedCategories([...selectedCategories, category.id]);\n                            } else {\n                              setSelectedCategories(selectedCategories.filter(id => id !== category.id));\n                            }\n                          }}\n                          className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n                          disabled={isSubmitting}\n                        />\n                        <span className=\"ml-2 text-sm text-gray-700\">{category.name}</span>\n                      </label>\n                    );\n                  })}\n                </div>\n              </div>\n\n              {/* Blog Sequences */}\n              <div>\n                <div className=\"flex items-center justify-between mb-4\">\n                  <label className=\"block text-sm font-medium text-gray-700\">\n                    Content Sequence\n                  </label>\n                  <div className=\"flex space-x-2\">\n                    <button\n                      type=\"button\"\n                      onClick={addContentSequence}\n                      className=\"px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700\"\n                      disabled={isSubmitting}\n                    >\n                      + Add Content\n                    </button>\n                    <button\n                      type=\"button\"\n                      onClick={addMediaSequence}\n                      className=\"px-3 py-1 text-sm bg-purple-600 text-white rounded hover:bg-purple-700\"\n                      disabled={isSubmitting}\n                    >\n                      + Add Media\n                    </button>\n                  </div>\n                </div>\n                \n                <div className=\"space-y-3\">\n                  {sequences\n                    .sort((a, b) => a.sequence - b.sequence)\n                    .map((sequence, index) => {\n                      return (\n                        <BlogSequenceItem\n                          key={sequence.id}\n                          sequence={sequence}\n                          index={index}\n                          blogContents={blogContents}\n                          blogMedia={blogMedia}\n                          onUpdate={updateSequence}\n                          onRemove={removeSequence}\n                          onMove={moveSequence}\n                          disabled={isSubmitting}\n                        />\n                      );\n                    })}\n                </div>\n              </div>\n\n              {error && (\n                <div className=\"text-red-600 text-sm bg-red-50 p-3 rounded-md\">\n                  {error}\n                </div>\n              )}\n\n              <div className=\"flex space-x-3\">\n                <button\n                  type=\"submit\"\n                  disabled={isSubmitting || !title.trim() || !slug.trim()}\n                  className=\"flex-1 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n                >\n                  {isSubmitting ? 'Saving...' : (isEditing ? 'Update Blog' : 'Create Blog')}\n                </button>\n                \n                <button\n                  type=\"button\"\n                  onClick={() => router.push('/admin/blogs')}\n                  className=\"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors\"\n                  disabled={isSubmitting}\n                >\n                  Cancel\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n\n        {/* Resize Handle */}\n        <div \n          className=\"w-2 bg-gray-300 hover:bg-gray-400 cursor-col-resize flex items-center justify-center\"\n          onMouseDown={(e) => {\n            const startX = e.clientX;\n            const startWidth = previewWidth;\n            \n            const handleMouseMove = (e: MouseEvent) => {\n              const deltaX = e.clientX - startX;\n              const newWidth = Math.max(20, Math.min(80, startWidth - (deltaX / window.innerWidth) * 100));\n              setPreviewWidth(newWidth);\n            };\n            \n            const handleMouseUp = () => {\n              document.removeEventListener('mousemove', handleMouseMove);\n              document.removeEventListener('mouseup', handleMouseUp);\n            };\n            \n            document.addEventListener('mousemove', handleMouseMove);\n            document.addEventListener('mouseup', handleMouseUp);\n          }}\n        >\n          <div className=\"w-1 h-8 bg-gray-500 rounded\"></div>\n        </div>\n\n        {/* Preview Section */}\n        <div \n          className=\"bg-gray-100 overflow-y-auto\"\n          style={{ width: `${previewWidth}%` }}\n        >\n          \n          <div className=\"p-6\">\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">\n            Preview\n          </h2>\n          <BlogPreview\n            title={title}\n            tags={tags}\n            categories={categories.filter(c => selectedCategories.includes(c.id))}\n            sequences={sequences}\n          />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","'use client';\n\nimport { useState } from 'react';\nimport SearchableSelect from './SearchableSelect';\n\ninterface BlogContent {\n  id: string;\n  name: string;\n  textContent: string;\n}\n\ninterface BlogMedia {\n  id: string;\n  name: string;\n  mediaUrl: string;\n  mediaType: string;\n  description?: string;\n}\n\ninterface BlogSequence {\n  id: string;\n  sequence: number;\n  type: 'content' | 'media';\n  blogContentId?: string;\n  blogMediaId?: string;\n  blogContent?: BlogContent;\n  blogMedia?: BlogMedia;\n}\n\ninterface BlogSequenceItemProps {\n  sequence: BlogSequence;\n  index: number;\n  blogContents: BlogContent[];\n  blogMedia: BlogMedia[];\n  onUpdate: (id: string, updates: Partial<BlogSequence>) => void;\n  onRemove: (id: string) => void;\n  onMove: (dragIndex: number, hoverIndex: number) => void;\n  disabled?: boolean;\n}\n\nexport default function BlogSequenceItem({\n  sequence,\n  index,\n  blogContents,\n  blogMedia,\n  onUpdate,\n  onRemove,\n  onMove,\n  disabled = false\n}: BlogSequenceItemProps) {\n  const [isDragging, setIsDragging] = useState(false);\n\n  const handleDragStart = (e: React.DragEvent) => {\n    if (disabled) return;\n    setIsDragging(true);\n    e.dataTransfer.effectAllowed = 'move';\n    e.dataTransfer.setData('text/plain', index.toString());\n    e.dataTransfer.setData('application/json', JSON.stringify({ index, sequenceId: sequence.id }));\n  };\n\n  const handleDragEnd = () => {\n    setIsDragging(false);\n  };\n\n  const handleDragOver = (e: React.DragEvent) => {\n    e.preventDefault();\n    e.dataTransfer.dropEffect = 'move';\n  };\n\n  const handleDrop = (e: React.DragEvent) => {\n    e.preventDefault();\n    if (disabled) return;\n    \n    try {\n      const dragIndex = parseInt(e.dataTransfer.getData('text/plain'));\n      if (!isNaN(dragIndex) && dragIndex !== index) {\n        onMove(dragIndex, index);\n      }\n    } catch (error) {\n      console.error('Error handling drop:', error);\n    }\n  };\n\n  const handleContentChange = (blogContentId: string) => {\n    onUpdate(sequence.id, { blogContentId: blogContentId || undefined, type: 'content' });\n  };\n\n  const handleMediaChange = (blogMediaId: string) => {\n    onUpdate(sequence.id, { blogMediaId, type: 'media' });\n  };\n\n  // Use the sequence type directly, don't infer from IDs\n  const actualType = sequence.type;\n\n  return (\n    <div\n      draggable={!disabled}\n      onDragStart={handleDragStart}\n      onDragEnd={handleDragEnd}\n      onDragOver={handleDragOver}\n      onDrop={handleDrop}\n      className={`p-4 border-2 border-dashed rounded-lg transition-all duration-200 ${\n        isDragging \n          ? 'border-blue-500 bg-blue-50 shadow-lg transform rotate-2 scale-105' \n          : 'border-gray-300 hover:border-gray-400 hover:shadow-md'\n      } ${disabled ? 'opacity-50 cursor-not-allowed' : 'cursor-move hover:bg-gray-50'}`}\n    >\n      <div className=\"flex items-center justify-between mb-3\">\n        <div className=\"flex items-center space-x-3\">\n          <div className=\"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center text-sm font-medium text-gray-600\">\n            {sequence.sequence}\n          </div>\n          <span className=\"text-sm font-medium text-gray-700\">\n            {actualType === 'content' ? 'Content' : 'Media'}\n          </span>\n        </div>\n        {!disabled && (\n          <div className=\"flex items-center space-x-2\">\n            <div className=\"text-gray-400 text-xs\">\n              Drag to reorder\n            </div>\n            <div className=\"text-gray-400\">\n              ‚ãÆ‚ãÆ\n            </div>\n          </div>\n        )}\n        <button\n          type=\"button\"\n          onClick={() => onRemove(sequence.id)}\n          className=\"text-red-500 hover:text-red-700 text-sm\"\n          disabled={disabled}\n        >\n          Remove\n        </button>\n      </div>\n\n      {actualType === 'content' ? (\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Select Content\n          </label>\n          <SearchableSelect\n            options={blogContents.map((content) => ({\n              value: content.id,\n              label: content.name\n            }))}\n            value={sequence.blogContentId || ''}\n            onChange={handleContentChange}\n            placeholder=\"Choose content...\"\n            disabled={disabled}\n            className=\"w-full\"\n          />\n          {sequence.blogContentId && (\n            <div className=\"mt-2 p-2 bg-gray-50 rounded text-sm text-gray-600\">\n              {blogContents.find(c => c.id === sequence.blogContentId)?.name}\n            </div>\n          )}\n        </div>\n      ) : (\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Select Media\n          </label>\n          <select\n            value={sequence.blogMediaId || ''}\n            onChange={(e) => handleMediaChange(e.target.value)}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            disabled={disabled}\n          >\n            <option value=\"\">Choose media...</option>\n            {blogMedia.map((media) => (\n              <option key={media.id} value={media.id}>\n                {media.name} ({media.mediaType})\n              </option>\n            ))}\n          </select>\n          {sequence.blogMediaId && (\n            <div className=\"mt-2\">\n              {(() => {\n                const selectedMedia = blogMedia.find(m => m.id === sequence.blogMediaId);\n                if (!selectedMedia) return null;\n                \n                return (\n                  <div className=\"border border-gray-200 rounded-lg p-4 bg-white\">\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <h4 className=\"font-medium text-gray-900\">{selectedMedia.name}</h4>\n                      <span className=\"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded\">\n                        {selectedMedia.mediaType}\n                      </span>\n                    </div>\n                    \n                    {/* Media Preview */}\n                    <div className=\"mt-3\">\n                      {selectedMedia.mediaType === 'IMAGE' ? (\n                        <img\n                          src={selectedMedia.mediaUrl}\n                          alt={selectedMedia.name}\n                          className=\"max-w-full max-h-48 object-contain rounded border\"\n                          onError={(e) => {\n                            e.currentTarget.style.display = 'none';\n                            e.currentTarget.nextElementSibling?.classList.remove('hidden');\n                          }}\n                        />\n                      ) : selectedMedia.mediaType === 'VIDEO' ? (\n                        <video\n                          src={selectedMedia.mediaUrl}\n                          controls\n                          className=\"max-w-full max-h-48 rounded border\"\n                          onError={(e) => {\n                            e.currentTarget.style.display = 'none';\n                            e.currentTarget.nextElementSibling?.classList.remove('hidden');\n                          }}\n                        />\n                      ) : selectedMedia.mediaType === 'AUDIO' ? (\n                        <audio\n                          src={selectedMedia.mediaUrl}\n                          controls\n                          className=\"w-full\"\n                          onError={(e) => {\n                            e.currentTarget.style.display = 'none';\n                            e.currentTarget.nextElementSibling?.classList.remove('hidden');\n                          }}\n                        />\n                      ) : (\n                        <div className=\"flex items-center justify-center p-8 bg-gray-50 rounded border\">\n                          <div className=\"text-center\">\n                            <div className=\"text-4xl mb-2\">üìÑ</div>\n                            <p className=\"text-sm text-gray-600\">{selectedMedia.mediaType} File</p>\n                            <a\n                              href={selectedMedia.mediaUrl}\n                              target=\"_blank\"\n                              rel=\"noopener noreferrer\"\n                              className=\"text-blue-600 hover:text-blue-800 text-sm mt-1 inline-block\"\n                            >\n                              View File\n                            </a>\n                          </div>\n                        </div>\n                      )}\n                      \n                      {/* Fallback for failed media */}\n                      <div className=\"hidden items-center justify-center p-8 bg-gray-50 rounded border\">\n                        <div className=\"text-center\">\n                          <div className=\"text-4xl mb-2\">‚ö†Ô∏è</div>\n                          <p className=\"text-sm text-gray-600\">Media preview unavailable</p>\n                          <a\n                            href={selectedMedia.mediaUrl}\n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                            className=\"text-blue-600 hover:text-blue-800 text-sm mt-1 inline-block\"\n                          >\n                            Open in new tab\n                          </a>\n                        </div>\n                      </div>\n                    </div>\n                    \n                    {/* Media Description */}\n                    {selectedMedia.description && (\n                      <div className=\"mt-3 text-center\">\n                        <p className=\"text-sm text-gray-500 italic\">\n                          {selectedMedia.description}\n                        </p>\n                      </div>\n                    )}\n                    \n                    {/* Media URL */}\n                    <div className=\"mt-2 text-xs text-gray-500 break-all\">\n                      {selectedMedia.mediaUrl}\n                    </div>\n                  </div>\n                );\n              })()}\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}