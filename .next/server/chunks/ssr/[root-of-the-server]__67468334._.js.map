{"version":3,"sources":["turbopack:///[project]/src/components/CourseForm.tsx","turbopack:///[project]/src/app/admin/courses/create/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { SubjectType } from '@prisma/client';\n\ninterface CourseFormProps {\n  initialData?: {\n    id: string;\n    name: string;\n    description: string;\n    subjectType: SubjectType;\n    status: string;\n  };\n  isEditing?: boolean;\n}\n\nconst subjectTypeLabels = {\n  [SubjectType.ACADEMIC]: 'Academic',\n  [SubjectType.TECHNICAL]: 'Technical',\n  [SubjectType.CREATIVE]: 'Creative',\n  [SubjectType.BUSINESS]: 'Business',\n  [SubjectType.OTHER]: 'Other',\n};\n\nconst courseStatusLabels = {\n  'DRAFT': 'Draft',\n  'LIVE': 'Live',\n  'ARCHIVED': 'Archived',\n  'COMING_SOON': 'Coming Soon',\n};\n\nexport default function CourseForm({ initialData, isEditing = false }: CourseFormProps) {\n  const [formData, setFormData] = useState({\n    name: initialData?.name || '',\n    description: initialData?.description || '',\n    subjectType: initialData?.subjectType || SubjectType.ACADEMIC,\n    status: initialData?.status || 'DRAFT',\n  });\n  \n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [error, setError] = useState('');\n  const router = useRouter();\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsSubmitting(true);\n    setError('');\n\n    try {\n      const url = isEditing ? `/api/courses/${initialData?.id}` : '/api/courses';\n      const method = isEditing ? 'PUT' : 'POST';\n\n      const response = await fetch(url, {\n        method,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(formData),\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || 'Failed to save course');\n      }\n\n      const course = await response.json();\n      \n      // Redirect to course detail page for new courses, or courses list for edits\n      if (isEditing) {\n        router.push('/admin/courses');\n      } else {\n        router.push(`/admin/courses/${course.id}`);\n      }\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to save course');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleInputChange = (field: string, value: string) => {\n    setFormData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n\n  return (\n    <div className=\"max-w-4xl mx-auto p-6\">\n      <div className=\"bg-white rounded-lg shadow-md\">\n        <div className=\"px-6 py-4 border-b border-gray-200\">\n          <h1 className=\"text-2xl font-bold text-gray-900\">\n            {isEditing ? 'Edit Course' : 'Create New Course'}\n          </h1>\n          <p className=\"text-gray-600 mt-1\">\n            {isEditing ? 'Update course information' : 'Fill in the details to create a new course'}\n          </p>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-6\">\n          {error && (\n            <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative\" role=\"alert\">\n              <span className=\"block sm:inline\">{error}</span>\n            </div>\n          )}\n\n          {/* Course Name */}\n          <div>\n            <label htmlFor=\"name\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Course Name *\n            </label>\n            <input\n              type=\"text\"\n              id=\"name\"\n              value={formData.name}\n              onChange={(e) => handleInputChange('name', e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              placeholder=\"Enter course name\"\n              required\n              disabled={isSubmitting}\n            />\n          </div>\n\n          {/* Description */}\n          <div>\n            <label htmlFor=\"description\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Description *\n            </label>\n            <textarea\n              id=\"description\"\n              value={formData.description}\n              onChange={(e) => handleInputChange('description', e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              placeholder=\"Enter course description\"\n              rows={4}\n              required\n              disabled={isSubmitting}\n            />\n          </div>\n\n          {/* Subject Type and Status Row */}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            {/* Subject Type */}\n            <div>\n              <label htmlFor=\"subjectType\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Subject Type *\n              </label>\n              <select\n                id=\"subjectType\"\n                value={formData.subjectType}\n                onChange={(e) => handleInputChange('subjectType', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                required\n                disabled={isSubmitting}\n              >\n                {Object.values(SubjectType).map((type) => (\n                  <option key={type} value={type}>\n                    {subjectTypeLabels[type]}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            {/* Status */}\n            <div>\n              <label htmlFor=\"status\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Status *\n              </label>\n              <select\n                id=\"status\"\n                value={formData.status}\n                onChange={(e) => handleInputChange('status', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                required\n                disabled={isSubmitting}\n              >\n                {Object.keys(courseStatusLabels).map((status) => (\n                  <option key={status} value={status}>\n                    {courseStatusLabels[status as keyof typeof courseStatusLabels]}\n                  </option>\n                ))}\n              </select>\n            </div>\n          </div>\n\n          {/* Status Indicator */}\n          <div className=\"bg-gray-50 p-4 rounded-lg\">\n            <h3 className=\"text-sm font-medium text-gray-700 mb-2\">Status Information</h3>\n            <div className=\"text-sm text-gray-600 space-y-1\">\n              <p><strong>Draft:</strong> Course is being developed and not visible to students</p>\n              <p><strong>Live:</strong> Course is published and available to students</p>\n              <p><strong>Archived:</strong> Course is no longer active but remains accessible</p>\n              <p><strong>Coming Soon:</strong> Course is announced but not yet available</p>\n            </div>\n          </div>\n\n          {/* Form Actions */}\n          <div className=\"flex justify-end space-x-3 pt-6 border-t border-gray-200\">\n            <button\n              type=\"button\"\n              onClick={() => router.back()}\n              className=\"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors\"\n              disabled={isSubmitting}\n            >\n              Cancel\n            </button>\n            <button\n              type=\"submit\"\n              disabled={!formData.name.trim() || !formData.description.trim() || isSubmitting}\n              className=\"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors flex items-center space-x-2\"\n            >\n              {isSubmitting ? (\n                <>\n                  <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\" />\n                  {isEditing ? 'Updating...' : 'Creating...'}\n                </>\n              ) : (\n                <>\n                  {isEditing ? 'Update Course' : 'Create Course'}\n                </>\n              )}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n","'use client';\n\nimport CourseForm from '@/components/CourseForm';\n\nexport default function CreateCoursePage() {\n  return <CourseForm />;\n}\n"],"names":[],"mappings":"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"}