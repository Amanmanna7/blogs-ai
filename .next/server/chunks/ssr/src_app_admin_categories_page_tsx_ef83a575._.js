module.exports=[97727,a=>{"use strict";a.s(["default",()=>f]);var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(83069);function f(){let[a,f]=(0,c.useState)([]),[g,h]=(0,c.useState)(!0),[i,j]=(0,c.useState)(""),{isAdmin:k,isEditor:l,isAuthor:m}=(0,e.useRole)(),n=async()=>{try{let a=await fetch("/api/categories");if(!a.ok)throw Error("Failed to fetch categories");let b=await a.json();f(b.categories)}catch(a){console.error("Error fetching categories:",a),j("Failed to load categories")}finally{h(!1)}},o=async(b,c)=>{if(confirm(`Are you sure you want to delete the category "${c}"?`))try{let c=await fetch(`/api/categories/${b}`,{method:"DELETE"});if(!c.ok){let a=await c.json();throw Error(a.error||"Failed to delete category")}f(a.filter(a=>a.id!==b))}catch(a){console.error("Error deleting category:",a),alert(a instanceof Error?a.message:"Failed to delete category")}};return((0,c.useEffect)(()=>{n()},[]),k||l||m)?g?(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,b.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading categories..."})]})}):(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)("div",{className:"bg-white shadow",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,b.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Categories"}),(0,b.jsx)("p",{className:"mt-2 text-gray-600",children:"Manage blog categories"})]}),(0,b.jsxs)(d.default,{href:"/admin/categories/create",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,b.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Category"]})]})})}),(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i&&(0,b.jsx)("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:i}),0===a.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),(0,b.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No categories"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating a new category."}),(0,b.jsx)("div",{className:"mt-6",children:(0,b.jsxs)(d.default,{href:"/admin/categories/create",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,b.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Category"]})})]}):(0,b.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:(0,b.jsx)("ul",{className:"divide-y divide-gray-200",children:a.map(a=>(0,b.jsx)("li",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:a.name}),(0,b.jsxs)("p",{className:"text-sm text-gray-500",children:["Created ",new Date(a.createdAt).toLocaleDateString()]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(d.default,{href:`/admin/categories/${a.id}/edit`,className:"text-indigo-600 hover:text-indigo-900 text-sm font-medium",children:"Edit"}),(0,b.jsx)("button",{onClick:()=>o(a.id,a.name),className:"text-red-600 hover:text-red-900 text-sm font-medium",children:"Delete"})]})]})},a.id))})})]})]}):(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6",children:"You don't have permission to access this page."}),(0,b.jsx)(d.default,{href:"/",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Go Home"})]})})}}];

//# sourceMappingURL=src_app_admin_categories_page_tsx_ef83a575._.js.map