{"version":3,"sources":["turbopack:///[project]/src/app/admin/blog-contents/create/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport BlogContentForm from '@/components/BlogContentForm';\nimport { useRole } from '@/hooks/useRole';\n\nexport default function CreateBlogPage() {\n  const [isSaving, setIsSaving] = useState(false);\n  const router = useRouter();\n  const { isAuthor, isEditor } = useRole();\n\n  const handleSave = async (data: { name: string; slug: string; content: string }) => {\n    setIsSaving(true);\n    try {\n      const response = await fetch('/api/blog-content', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ \n          name: data.name,\n          slug: data.slug,\n          textContent: data.content \n        }),\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || 'Failed to save blog content');\n      }\n\n      const responseData = await response.json();\n      router.push(`/admin/blog-contents/${responseData.blogContent.id}`);\n    } catch (error) {\n      console.error('Error saving blog content:', error);\n      throw error;\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n\n  // Check if user has permission to create content\n  if (!isAuthor && !isEditor) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <h1 className=\"text-2xl font-bold text-gray-900 mb-4\">Access Denied</h1>\n          <p className=\"text-gray-600 mb-6\">You don't have permission to create blog content.</p>\n          <button\n            onClick={() => router.push('/admin/blog-contents')}\n            className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n          >\n            Go Back\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <BlogContentForm\n        onSave={handleSave}\n        isEditing={false}\n      />\n    </div>\n  );\n}\n"],"names":[],"mappings":"+EAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,IACtB,GAAM,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACnC,EAAS,CAAA,EAAA,EAAA,SAAS,AAAT,IACT,UAAE,CAAQ,UAAE,CAAQ,CAAE,CAAG,CAAA,EAAA,EAAA,OAAA,AAAO,IAEhC,EAAa,MAAO,IACxB,GAAY,GACZ,GAAI,CACF,IAAM,EAAW,MAAM,MAAM,oBAAqB,CAChD,OAAQ,OACR,QAAS,CACP,eAAgB,kBAClB,EACA,KAAM,KAAK,SAAS,CAAC,CACnB,KAAM,EAAK,IAAI,CACf,KAAM,EAAK,IAAI,CACf,YAAa,EAAK,OAAO,AAC3B,EACF,GAEA,GAAI,CAAC,EAAS,EAAE,CAAE,CAChB,IAAM,EAAY,MAAM,EAAS,IAAI,EACrC,OAAU,AAAJ,MAAU,EAAU,KAAK,EAAI,8BACrC,CAEA,IAAM,EAAe,MAAM,EAAS,IAAI,GACxC,EAAO,IAAI,CAAC,CAAC,qBAAqB,EAAE,EAAa,WAAW,CAAC,EAAE,CAAA,CAAE,CACnE,CAAE,MAAO,EAAO,CAEd,MADA,QAAQ,KAAK,CAAC,6BAA8B,GACtC,CACR,QAAU,CACR,GAAY,EACd,CACF,SAIA,AAAI,AAAC,GAAa,EAkBhB,CAAA,EAAA,EAAA,EAlBe,CAkBf,AAlB0B,EAkBzB,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAe,CAAA,CACd,OAAQ,EACR,WAAW,MAnBb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,iDAAwC,kBACtD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8BAAqB,sDAClC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAO,IAAI,CAAC,wBAC3B,UAAU,wNACX,gBAgBX"}